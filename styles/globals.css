/* ArcheNova Global Style */

:root {
  --bg: #0b0b0c;
  --fg: #f5f5f5;
  --muted: #9aa0a6;
  --accent: #ffffff;
}

* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: -apple-system, BlinkMacSystemFont, "Inter",
               "Segoe UI", sans-serif;
  line-height: 1.6;
}

a {
  color: var(--fg);
  text-decoration: none;
  position: relative;
  display: inline-block;
  padding-bottom: 2px;
  outline: none;
}

/* 通常時の下線（薄い） */
a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  height: 1px;
  width: 100%;
  background: rgba(255, 255, 255, 0.28);
  transform: scaleX(0.55);
  transform-origin: left;
  transition: transform 220ms ease, background 220ms ease, opacity 220ms ease;
  opacity: 0.9;
}

/* hover で伸びる（確定に近づく） */
a:hover::after {
  transform: scaleX(1);
  background: rgba(255, 255, 255, 0.72);
  opacity: 1;
}

/* キーボード操作でも“確定感” */
a:focus-visible::after {
  transform: scaleX(1);
  background: rgba(255, 255, 255, 0.9);
  opacity: 1;
}

/* クリックした瞬間に「収束してロック」する */
a:active::after {
  transform: scaleX(1);
  background: rgba(255, 255, 255, 0.95);
  opacity: 1;
}

main {
  max-width: 860px;
  padding: 120px 32px;
  margin: 0 auto;
}

h1 {
  font-size: 3.2rem;
  font-weight: 500;
  letter-spacing: -0.02em;
  margin-bottom: 1.5rem;
}

p {
  font-size: 1.1rem;
  color: var(--muted);
  max-width: 720px;
}

nav {
  margin-top: 3rem;
  display: flex;
  gap: 1.5rem;
  font-size: 0.95rem;
}
/* =========================
   ArcheNova Hero Section
   ========================= */

.hero {
  position: relative;
  min-height: 100vh;
  background-image: url("/images/IMG_9379.jpeg"); /* ←ここ重要 */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  pointer-events: none; /* ★これを追加 */
}

.hero-content {
  position: relative;
  z-index: 1;
  max-width: 860px;
  margin: 0 auto;
  padding: 140px 32px;
}

.hero h1 {
  font-size: 3.6rem;
  font-weight: 500;
  margin-bottom: 1.5rem;
}

.hero p {
  font-size: 1.2rem;
  color: #cfcfcf;
  max-width: 720px;
}
/* =========================
   ArcheNova Formula Overlay
   ========================= */

.hero-formula {
  position: absolute;
  left: 50%;
  bottom: 28px;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.18);
  font-size: 0.95rem;
  letter-spacing: 0.08em;
  font-family: "Times New Roman", serif;
  z-index: 2;
  pointer-events: none;
}

@media (max-width: 768px) {
  .hero-formula {
    font-size: 0.85rem;
    bottom: 20px;
    right: 20px;
    left: auto;
    transform: none;
  }
}

/* =========================
   About Page
   ========================= */

.about {
  background: #0b0b0c;
  padding: 140px 32px;
}

.about-inner {
  max-width: 860px;
  margin: 0 auto;
}

.about h1 {
  font-size: 2.6rem;
  margin-bottom: 2.5rem;
}

.about p {
  font-size: 1.05rem;
  line-height: 1.9;
  color: #cfcfcf;
  max-width: 760px;
  margin-bottom: 1.6rem;
}
/* =========================
   Mobile Hero Image Override
   ========================= */
@media (max-width: 768px) {
  .hero {
    background-image: url("/images/IMG_9845.jpeg") !important;
    background-size: cover;
    background-position: center;
  }

  .hero::after {
    background: rgba(0, 0, 0, 0.6);
  }

  .hero-content {
    padding: 110px 20px;
  }
}
/* =========================
   Mobile Layout Balance (Global)
   ========================= */
@media (max-width: 768px) {
  /* 文章は左寄せが基本：可読性を上げる */
  main {
    padding: 72px 20px;
    text-align: left;
  }

  h1 {
    font-size: 2.2rem;
    line-height: 1.15;
    margin-bottom: 1rem;
  }

  p {
    font-size: 1.02rem;
    line-height: 1.85;
    max-width: 100%;
  }

  /* ナビ：横スクロールの1列にして崩れないように */
  nav {
    margin-top: 1.6rem;
    display: flex;
    gap: 1rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 6px;
  }

  nav a {
    border-bottom: 0;
    padding: 10px 12px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 999px;
    white-space: nowrap;
  }

  /* Heroだけは“象徴”として中央に置く */
  .hero-content {
    text-align: center;
    padding: 92px 18px 70px;
  }

  .hero h1 {
    font-size: 2.4rem;
  }

  .hero p {
    margin-left: auto;
    margin-right: auto;
  }

  /* 数式は中央下で“痕跡”として残す */
  .hero-formula {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    text-align: center;
  }
}
/* =========================
   Mobile Balance — Global (All Pages)
   ========================= */
@media (max-width: 768px) {
  /* 1) 全ページ：中央寄せを解除して読み物を左寄せへ */
  main {
    max-width: 100%;
    margin: 0;
    padding: 72px 20px;
    text-align: left;
  }

  h1 {
    font-size: 2.2rem;
    line-height: 1.15;
    margin: 0 0 1rem;
  }

  p {
    font-size: 1.02rem;
    line-height: 1.85;
    max-width: 100%;
    margin: 0 0 1.35rem;
  }

  /* 2) ナビ：スマホUIとして自然なピル型 + 横スクロール */
  nav {
    margin-top: 1.2rem;
    display: flex;
    gap: 0.75rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding: 0 0 8px;
  }

  nav a {
    border-bottom: 0;
    padding: 10px 12px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 999px;
    white-space: nowrap;
  }

  /* 3) Heroは“象徴”として中央に固定（他ページは左寄せのまま） */
  .hero-content {
    text-align: center;
    padding: 92px 18px 70px;
  }

  .hero h1 {
    font-size: 2.4rem;
    margin-bottom: 1rem;
  }

  .hero p {
    margin-left: auto;
    margin-right: auto;
  }

  /* 4) 数式：中央下で痕跡として整える */
  .hero-formula {
    left: 50%;
    right: auto;
    bottom: 18px;
    transform: translateX(-50%);
    text-align: center;
    font-size: 0.82rem;
    opacity: 0.22;
  }

  /* 5) About / Papers 等のセクション余白も統一 */
  .about {
    padding: 92px 20px;
  }

  .about-inner {
    max-width: 100%;
    margin: 0;
  }

  .about h1 {
    font-size: 2.1rem;
    margin-bottom: 1.6rem;
  }

  .about p {
    max-width: 100%;
  }

  /* 6) Archive (papers) などで “← Back” が中央に寄らないように */
  a {
    word-break: break-word;
  }
}
/* =========================
   Header + Hamburger Menu
   ========================= */

.site-header {
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 50;
}

.menu-button {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;
}

.menu-icon {
  display: inline-flex;
  flex-direction: column;
  gap: 5px;
  align-items: center;
  justify-content: center;
}

.menu-icon span {
  display: block;
  width: 18px;
  height: 1px;
  background: rgba(255, 255, 255, 0.85);
}

.menu-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.62);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 60;
  display: flex;
  justify-content: flex-end;
}

.menu-panel {
  width: min(360px, 88vw);
  height: 100%;
  background: rgba(10, 10, 12, 0.92);
  border-left: 1px solid rgba(255, 255, 255, 0.12);
  padding: 18px 18px 24px;
}

.menu-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 18px;
}

.menu-title {
  font-size: 1rem;
  letter-spacing: 0.08em;
  color: rgba(255, 255, 255, 0.9);
}

.menu-close {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.04);
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  font-size: 1.4rem;
  line-height: 1;
}

.menu-nav {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 8px;
}

.menu-nav a {
  border-bottom: 0;
  padding: 14px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.92);
}

.menu-nav a:hover {
  border-color: rgba(255, 255, 255, 0.25);
}

.menu-footer {
  margin-top: 18px;
  color: rgba(255, 255, 255, 0.45);
  font-size: 0.9rem;
  line-height: 1.6;
}

/* スマホは少し内側に */
@media (max-width: 768px) {
  .site-header {
    top: 14px;
    right: 14px;
  }
}
/* =========================
   HOME — Scrollable Hero
   ========================= */

.hero-scroll {
  min-height: 100vh;
  padding-bottom: 120px;
}

/* タイトル */
.hero-title {
  font-size: 3.2rem;
  margin-bottom: 1.2rem;
}

/* 一行ステートメント（最重要） */
.hero-statement {
  font-size: 1.35rem;
  letter-spacing: 0.04em;
  color: rgba(255, 255, 255, 0.9);
  max-width: 720px;
  margin-bottom: 2rem;
}

/* 補足定義 */
.hero-definition {
  font-size: 1.05rem;
  line-height: 1.8;
  color: rgba(255, 255, 255, 0.65);
  max-width: 720px;
}

/* 数式ブロック */
.hero-symbol {
  margin-top: 96px;
  text-align: center;
}

.hero-formula {
  font-family: "Times New Roman", serif;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  color: rgba(255, 255, 255, 0.25);
  margin-bottom: 0.75rem;
}

.hero-formula-note {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.45);
}

/* 下層導線 */
.hero-links {
  margin-top: 96px;
  display: flex;
  gap: 1.5rem;
  position: relative;
  z-index: 2;
}

.hero-links a {
  border-bottom: 1px solid rgba(255, 255, 255, 0.35);
  padding-bottom: 2px;
}

/* スマホ最適化 */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2.4rem;
  }

  .hero-statement {
    font-size: 1.1rem;
  }

  .hero-symbol {
    margin-top: 72px;
  }

  .hero-links {
    margin-top: 72px;
  }
}
/* =========================
   Manifesto (Refuse / Fix)
   ========================= */
.manifesto {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.manifesto-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.manifesto-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 820px;
}

.mf-grid {
  margin-top: 64px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.mf-card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 10px;
}

.mf-kicker {
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.mf-card h2 {
  font-size: 1.05rem;
  letter-spacing: 0.06em;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.92);
}

.mf-card ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.mf-card li {
  padding: 12px 12px;
  margin-bottom: 10px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 14px;
  color: rgba(255, 255, 255, 0.78);
  line-height: 1.7;
}

.mf-card li strong {
  color: rgba(255, 255, 255, 0.92);
}

.mf-position {
  margin-top: 64px;
}

.mf-position h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.mf-position p {
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.9;
  max-width: 820px;
  margin-bottom: 1rem;
}

@media (max-width: 768px) {
  .manifesto {
    padding: 92px 20px;
  }
  .manifesto-head h1 {
    font-size: 2.2rem;
  }
  .mf-grid {
    grid-template-columns: 1fr;
  }
}
/* =========================
   HOME Gate Links (Manifesto / Framework)
   ========================= */

.hero-links {
  margin-top: 96px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); /* ★固定列をやめる */
  gap: 14px;
  position: relative;
  z-index: 2;
}

/* “入口”カード */
.hero-links a {
  border-bottom: 0;
  padding: 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(255, 255, 255, 0.92);
  display: block;
  transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
}

/* 入口に触れた時の“わずかな重力” */
.hero-links a:hover {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.28);
  background: rgba(0, 0, 0, 0.48);
}

/* クリック時 */
.hero-links a:active {
  transform: translateY(0px);
}

/* スマホ：縦並びで“二つの門”にする */
@media (max-width: 768px) {
  .hero-links {
    grid-template-columns: 1fr;
    gap: 12px;
    margin-top: 72px;
  }

  .hero-links a {
    padding: 18px 16px;
  }
}
/* =========================
   Framework (Diagram-first)
   ========================= */
.framework {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.fw-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.fw-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 820px;
}

/* Diagram */
.fw-diagram {
  margin-top: 64px;
  border-radius: 22px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 22px;
}

.fw-grid {
  display: grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  gap: 12px;
  align-items: center;
}

.fw-node {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  padding: 16px 16px 14px;
  background: rgba(255, 255, 255, 0.02);
}

.fw-label {
  font-size: 0.78rem;
  letter-spacing: 0.14em;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.fw-title {
  font-size: 1.05rem;
  color: rgba(255, 255, 255, 0.92);
  margin-bottom: 8px;
}

.fw-mini {
  font-size: 0.95rem;
  line-height: 1.7;
  color: rgba(255, 255, 255, 0.65);
}

.fw-arrow {
  font-size: 1.6rem;
  color: rgba(255, 255, 255, 0.25);
  text-align: center;
}

.fw-footnote {
  margin-top: 14px;
  color: rgba(255, 255, 255, 0.48);
  font-size: 0.95rem;
  line-height: 1.7;
  text-align: center;
}

/* Rules (text secondary) */
.fw-rules {
  margin-top: 64px;
}

.fw-rules h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.fw-rules ol {
  margin: 0;
  padding-left: 1.2rem;
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.9;
  max-width: 820px;
}

.fw-rules li {
  margin-bottom: 0.9rem;
}

@media (max-width: 768px) {
  .framework {
    padding: 92px 20px;
  }
  .fw-head h1 {
    font-size: 2.2rem;
  }
  .fw-grid {
    grid-template-columns: 1fr;
  }
  .fw-arrow {
    display: none;
  }
  .fw-footnote {
    text-align: left;
  }
}
/* =========================
   HOME Gate: 3 columns on desktop
   ========================= */
.hero-links {
  grid-template-columns: 1fr 1fr 1fr;
}

@media (max-width: 768px) {
  .hero-links {
    grid-template-columns: 1fr;
  }
}

/* =========================
   Domains
   ========================= */
.domains {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.domains-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.domains-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 860px;
}

.domains-grid {
  margin-top: 56px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.domain-card {
  border-bottom: 0;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 16px;
  display: block;
  transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
}

.domain-card:hover {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.25);
  background: rgba(0, 0, 0, 0.46);
}

.domain-title {
  color: rgba(255, 255, 255, 0.92);
  font-size: 1.05rem;
  letter-spacing: 0.04em;
  margin-bottom: 10px;
}

.domain-def {
  color: rgba(255, 255, 255, 0.66);
  line-height: 1.8;
  margin-bottom: 12px;
}

.domain-rep {
  color: rgba(255, 255, 255, 0.45);
  font-size: 0.95rem;
  line-height: 1.7;
}

@media (max-width: 768px) {
  .domains {
    padding: 92px 20px;
  }
  .domains-head h1 {
    font-size: 2.2rem;
  }
  .domains-grid {
    grid-template-columns: 1fr;
  }
}

/* =========================
   Domain detail page
   ========================= */
.domain {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.domain-top {
  margin-bottom: 18px;
}

.domain-back {
  border-bottom: 0;
  color: rgba(255, 255, 255, 0.65);
}

.domain-back:hover {
  color: rgba(255, 255, 255, 0.9);
}

.domain-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.domain-def2 {
  color: rgba(255, 255, 255, 0.68);
  line-height: 1.9;
  max-width: 860px;
}

.domain-block {
  margin-top: 56px;
}

.domain-block h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.domain-list {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.domain-item {
  padding: 14px 14px;
  margin-bottom: 10px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.02);
}

.domain-item-title {
  color: rgba(255, 255, 255, 0.92);
  margin-bottom: 6px;
}

.domain-item-note {
  color: rgba(255, 255, 255, 0.62);
  line-height: 1.7;
}

.domain-note {
  color: rgba(255, 255, 255, 0.65);
  line-height: 1.9;
  max-width: 860px;
}

@media (max-width: 768px) {
  .domain {
    padding: 92px 20px;
  }
  .domain-head h1 {
    font-size: 2.2rem;
  }
}
/* =========================
   Research / Papers
   ========================= */
.rp {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.rp-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.rp-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 880px;
}

.rp-section {
  margin-top: 64px;
}

.rp-h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.rp-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
  gap: 14px;
}

.rp-card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 16px;
}

.rp-top {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
}

.rp-badge {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: rgba(255, 255, 255, 0.75);
}

.rp-domain {
  font-size: 0.92rem;
  color: rgba(255, 255, 255, 0.55);
}

.rp-title {
  font-size: 1.15rem;
  color: rgba(255, 255, 255, 0.95);
  line-height: 1.5;
  margin: 0 0 14px;
}

.rp-summary {
  border-top: 1px solid rgba(255, 255, 255, 0.10);
  padding-top: 14px;
}

.rp-row {
  display: grid;
  grid-template-columns: 160px 1fr;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.rp-row:last-child {
  border-bottom: 0;
}

.rp-k {
  font-size: 0.82rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
}

.rp-v {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.75;
}

.rp-links {
  margin-top: 14px;
  display: flex;
  gap: 14px;
}

.rp-links a {
  border-bottom: 1px solid rgba(255, 255, 255, 0.35);
  padding-bottom: 2px;
}

.rp-note {
  margin-top: 14px;
  color: rgba(255, 255, 255, 0.5);
  line-height: 1.8;
}

@media (max-width: 768px) {
  .rp {
    padding: 92px 20px;
  }
  .rp-head h1 {
    font-size: 2.2rem;
  }
  .rp-row {
    grid-template-columns: 1fr;
  }
}
/* =========================
   Research / Papers typography fix (Readable)
   ========================= */

/* カード全体：自然な改行を基本に */
.rp-card {
  overflow: hidden;
}

/* タイトル・本文は単語単位で改行 */
.rp-title,
.rp-v,
.rp-note,
.rp-domain {
  word-break: normal;        /* 単語は壊さない */
  overflow-wrap: break-word; /* はみ出す時だけ分割 */
  hyphens: auto;             /* 英語の自然なハイフネーション */
  line-height: 1.75;
}

/* 本文の読みやすさを強化 */
.rp-v {
  max-width: 100%;
  font-size: 0.95rem;
}

/* 左ラベル（Question 等）は短く固定 */
.rp-k {
  white-space: nowrap;
  font-size: 0.78rem;
  letter-spacing: 0.12em;
}

/* Gridの右側が潰れないように */
@media (min-width: 769px) {
  .rp-row {
    grid-template-columns: 180px minmax(0, 1fr);
  }
}

/* リンク・codeだけは安全策 */
.rp-links a,
.rp-note code {
  overflow-wrap: break-word;
  word-break: break-word;
}
/* =========================
   Research / Papers — overlap fix (safe)
   ========================= */

.rp .rp-card,
.rp .rp-card * {
  line-height: 1.75 !important;   /* 重なりの主因を止める */
  white-space: normal !important; /* 変な nowrap を無効化 */
  letter-spacing: normal !important;
  hyphens: none !important;       /* 不自然な改行/重なり防止 */
}

.rp .rp-title {
  line-height: 1.45 !important;   /* タイトルだけ少し締める */
}

.rp .rp-summary {
  margin-top: 12px;               /* 余白を確保して重なりを避ける */
}

.rp .rp-row {
  padding: 10px 0;                /* 行間を確保 */
}

.rp .rp-k,
.rp .rp-v {
  display: block;                 /* 行内崩れによる重なり回避 */
}

/* 右側カラムが潰れて文字がめり込むのを防ぐ（gridの安全策） */
@media (min-width: 769px) {
  .rp .rp-row {
    grid-template-columns: 180px minmax(0, 1fr);
  }
}
/* =========================
   Projects
   ========================= */
.projects {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.projects-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.projects-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 880px;
}

.pj-grid {
  margin-top: 64px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 14px;
}

.pj-card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 16px;
}

.pj-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.pj-id {
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.65);
}

.pj-badge {
  font-size: 0.78rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: rgba(255, 255, 255, 0.78);
}

/* フェーズごとの微差（色指定は避けつつ濃淡で区別） */
.pj-concept { background: rgba(255, 255, 255, 0.03); }
.pj-prototype { background: rgba(255, 255, 255, 0.05); }
.pj-deployment { background: rgba(255, 255, 255, 0.07); }

.pj-title {
  font-size: 1.15rem;
  line-height: 1.5;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.95);
}

.pj-block {
  margin-top: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.10);
  padding-top: 14px;
}

.pj-k {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.pj-v {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.8;
  overflow-wrap: break-word;
}

.pj-scale {
  display: grid;
  gap: 10px;
}

.pj-scale-row {
  display: grid;
  grid-template-columns: 120px minmax(0, 1fr);
  gap: 12px;
}

.pj-skey {
  color: rgba(255, 255, 255, 0.55);
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-size: 0.78rem;
}

.pj-sval {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.7;
  overflow-wrap: break-word;
}

@media (max-width: 768px) {
  .projects {
    padding: 92px 20px;
  }
  .projects-head h1 {
    font-size: 2.2rem;
  }
  .pj-scale-row {
    grid-template-columns: 1fr;
  }
}
/* =========================
   Projects detail page
   ========================= */
.project {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.project-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 18px;
}

.project-back {
  border-bottom: 0;
  color: rgba(255, 255, 255, 0.65);
}

.project-back:hover {
  color: rgba(255, 255, 255, 0.9);
}

.project-head .project-id {
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.65);
  margin-bottom: 10px;
}

.project-head h1 {
  font-size: 2.6rem;
  margin: 0;
  line-height: 1.2;
}

.project-block {
  margin-top: 56px;
}

.project-block h2 {
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.project-text {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.9;
  max-width: 880px;
}

.project-scale {
  display: grid;
  gap: 10px;
  max-width: 880px;
}

.project-scale-row {
  display: grid;
  grid-template-columns: 140px minmax(0, 1fr);
  gap: 12px;
}

.project-skey {
  color: rgba(255, 255, 255, 0.55);
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-size: 0.78rem;
}

.project-sval {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.8;
  overflow-wrap: break-word;
}

.project-sub {
  margin-top: 22px;
}

.project-sub h3 {
  margin: 0 0 10px;
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.85);
}

.project-list {
  margin: 0;
  padding-left: 18px;
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.9;
}

.project-gates {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 14px;
  margin-top: 10px;
}

.project-gate {
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  background: rgba(255, 255, 255, 0.02);
  padding: 14px 14px 12px;
}

.project-gate-title {
  font-size: 0.82rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.65);
  margin-bottom: 10px;
}

.pj-open {
  margin-top: 14px;
  color: rgba(255, 255, 255, 0.55);
  font-size: 0.95rem;
}

@media (max-width: 768px) {
  .project {
    padding: 92px 20px;
  }
  .project-head h1 {
    font-size: 2.1rem;
    line-height: 1.25;
  }
  .project-scale-row {
    grid-template-columns: 1fr;
  }
}
/* =========================
   Phase timeline (Irreversibility Progression)
   ========================= */

.phase {
  margin-top: 44px;
  padding: 18px 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.28);
}

.phase-title {
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.9);
}

.phase-track {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 12px;
}

.phase-step {
  display: grid;
  grid-template-columns: 42px minmax(0, 1fr);
  gap: 14px;
  align-items: start;
  position: relative;
}

/* 縦ライン（時間の進行） */
.phase-step::before {
  content: "";
  position: absolute;
  left: 20px;
  top: 42px;
  bottom: -12px;
  width: 1px;
  background: rgba(255, 255, 255, 0.14);
}
.phase-step:last-child::before {
  display: none;
}

.phase-node {
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.03);
}

.phase-index {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.65);
  letter-spacing: 0.08em;
}

.phase-name {
  font-size: 0.95rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.85);
  margin-bottom: 6px;
}

.phase-meaning {
  color: rgba(255, 255, 255, 0.68);
  line-height: 1.8;
  overflow-wrap: break-word;
}

/* 状態表現（色ではなく濃淡で差をつける） */
.phase-step.is-done .phase-node {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.22);
}
.phase-step.is-done .phase-name {
  color: rgba(255, 255, 255, 0.92);
}

.phase-step.is-active .phase-node {
  background: rgba(255, 255, 255, 0.14);
  border-color: rgba(255, 255, 255, 0.30);
}
.phase-step.is-active .phase-index {
  color: rgba(255, 255, 255, 0.95);
}
.phase-step.is-active .phase-meaning {
  color: rgba(255, 255, 255, 0.78);
}

.phase-note {
  margin-top: 12px;
  color: rgba(255, 255, 255, 0.5);
  line-height: 1.8;
}

/* Mobile: 余白だけ最適化 */
@media (max-width: 768px) {
  .phase {
    padding: 16px 14px 14px;
  }
}
/* Phase gates (inside timeline) */
.phase-gates {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.10);
}

.phase-gates-title {
  font-size: 0.78rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 8px;
}

.phase-gates-list {
  margin: 0;
  padding-left: 18px;
  color: rgba(255, 255, 255, 0.70);
  line-height: 1.8;
}

.phase-gates-more {
  margin-top: 8px;
  color: rgba(255, 255, 255, 0.50);
  font-size: 0.95rem;
}
@media (max-width: 768px) {
  .phase-gates {
    margin-top: 8px;
    padding-top: 8px;
  }
}
/* =========================
   Lock Meter (Irreversibility intensity)
   ========================= */
.lock {
  margin-top: 48px;
  padding: 18px 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.28);
}

.lock-title {
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.9);
}

.lock-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 14px;
}

.lock-item {
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  background: rgba(255, 255, 255, 0.02);
  padding: 14px 14px 12px;
}

.lock-k {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.lock-meter {
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.04);
  overflow: hidden;
}

.lock-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.45); /* 色指定は避け、白の濃淡 */
  border-radius: 999px;
}

.lock-v {
  margin-top: 10px;
  color: rgba(255, 255, 255, 0.70);
  line-height: 1.7;
  overflow-wrap: break-word;
}

.lock-note {
  margin-top: 12px;
  color: rgba(255, 255, 255, 0.5);
  line-height: 1.8;
}

@media (max-width: 768px) {
  .lock {
    padding: 16px 14px 14px;
  }
}
/* =========================
   Projects list — Mini Lock Meter
   ========================= */
.pj-mini {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.10);
}

.pj-mini-k {
  font-size: 0.76rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.pj-mini-meter {
  height: 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.04);
  overflow: hidden;
}

.pj-mini-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.42);
  border-radius: 999px;
}

.pj-mini-note {
  margin-top: 8px;
  color: rgba(255, 255, 255, 0.55);
  font-size: 0.95rem;
}
/* =========================
   Projects list — Lock chip (Lx/5)
   ========================= */
.pj-lockchip {
  margin-left: 10px;
  font-size: 0.72rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.03);
  color: rgba(255, 255, 255, 0.65);
}
@media (max-width: 768px) {
  .pj-lockchip {
    margin-left: 6px;
    padding: 3px 6px;
    font-size: 0.68rem;
  }
}
/* =========================
   Page transition (motion-only)
   ========================= */

.pt {
  animation: ptFade 220ms ease-out;
  will-change: opacity, transform;
}

@keyframes ptFade {
  from { opacity: 0; transform: translateY(4px); }
  to   { opacity: 1; transform: translateY(0); }
}

@media (prefers-reduced-motion: reduce) {
  .pt { animation: none; }
}
/* =========================
   Scroll reveal (irreversible)
   ========================= */

.reveal {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 360ms ease, transform 360ms ease;
  will-change: opacity, transform;
}

.reveal.is-shown {
  opacity: 1;
  transform: translateY(0);
}

@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1; transform: none; transition: none; }
}
/* =========================
   Mechanical hamburger (slide + lock)
   ========================= */

/* ボタン（回転させず、機械的に“移動して確定”） */
.menu-button {
  position: relative;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.03);
  display: grid;
  place-items: center;
}

/* 3本線 */
.menu-button .bar {
  width: 18px;
  height: 1px;
  background: rgba(255,255,255,0.78);
  position: absolute;
  transition: transform 220ms ease, opacity 220ms ease, width 220ms ease;
}

.menu-button .bar:nth-child(1) { transform: translateY(-6px); }
.menu-button .bar:nth-child(2) { transform: translateY(0); }
.menu-button .bar:nth-child(3) { transform: translateY(6px); }

/* 開いた時：Xに回転ではなく、水平“スライドして噛み合う” */
.menu-button[aria-expanded="true"] .bar:nth-child(1) {
  transform: translateY(0) translateX(1px) rotate(45deg);
  width: 20px;
}
.menu-button[aria-expanded="true"] .bar:nth-child(2) {
  opacity: 0;
}
.menu-button[aria-expanded="true"] .bar:nth-child(3) {
  transform: translateY(0) translateX(1px) rotate(-45deg);
  width: 20px;
}

/* パネル：右上から“スライドして固定” */
.menu-panel {
  position: fixed;
  top: 68px;            /* header 高さに合わせて */
  right: 16px;
  width: min(320px, calc(100vw - 32px));
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(10,10,12,0.92);
  backdrop-filter: blur(10px);

  transform: translateX(12px);
  opacity: 0;
  pointer-events: none;
  transition: transform 220ms ease, opacity 220ms ease;
}

/* “開いている”状態の判定：ボタンの aria-expanded を使うのが理想
   ただCSSだけではボタン→パネルに届かないので、Menu側で
   panel に is-open クラスを付けるか、親に data-open を付けるのが必要。
*/
.menu-panel.is-open {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}

/* パネル内リンク：クリックで“確定”を強める */
.menu-panel a {
  display: block;
  padding: 12px 14px;
  border-radius: 12px;
}
.menu-panel a:hover {
  background: rgba(255,255,255,0.06);
}
.menu-panel a:active {
  background: rgba(255,255,255,0.10);
}
@media (max-width: 480px) {
  .menu-panel {
    top: 56px;
    right: 8px;
    width: calc(100vw - 16px);
  }
}
/* =========================
   X Timeline (HOME)
   ========================= */

.x-timeline {
  max-width: 860px;
  margin: 90px auto 140px;
  padding: 0 32px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0 0 18px;
  color: rgba(255, 255, 255, 0.85);
}

/* 埋め込みiframeの角を揃える */
.x-timeline iframe {
  border-radius: 16px !important;
}

@media (max-width: 768px) {
  .x-timeline {
    margin: 70px auto 110px;
    padding: 0 20px;
  }
}
.x-frame {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
}
.x-frame iframe {
  display: block;
  width: 100%;
  height: 600px;
  border: 0;
}
@media (max-width: 480px) {
  .x-frame iframe {
    height: 400px;
  }
}
/* =========================
   X Timeline (HOME) end
   ========================= */
/* X embed frame (stabilize) */
.x-frame {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.02);
}

/* iframeが生成された後の統一感 */
.x-frame iframe {
  border-radius: 16px !important;
}
.x-frame iframe {
  display: block;
  width: 100%;
  height: 600px;
  border: 0;
}
@media (max-width: 480px) {
  .x-frame iframe {
    height: 400px;
  }
}
/* =========================
/* =========================
   X Latest (single featured post)
   ========================= */

.x-timeline {
  max-width: 860px;
  margin: 90px auto 140px;
  padding: 0 32px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 14px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
}

.x-frame {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.02);
}

/* “最新1件だけ”に見せるために高さを固定＆はみ出しを隠す */
.x-frame--single {
  height: 320px;
}

.x-frame--single iframe {
  width: 100%;
  height: 320px;
  border: 0;
}

/* ほんの少しだけ“強調”の質感（デザインは変えない） */
.x-frame--single {
  box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
}

.x-note {
  margin-top: 12px;
  color: rgba(255, 255, 255, 0.50);
  line-height: 1.8;
}

@media (max-width: 768px) {
  .x-timeline {
    margin: 70px auto 110px;
    padding: 0 20px;
  }
  .x-frame--single,
  .x-frame--single iframe {
    height: 340px; /* モバイルは少し高めの方が読みやすい */
  }
}
/* =========================
   Latest from X (single featured)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.8;
  white-space: pre-wrap;
}

.x-link {
  display: inline-block;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
}
/* =========================
   Latest from X (clean card + read more)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.85;
  white-space: pre-wrap;
  word-break: break-word;
}

.x-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.x-toggle {
  background: transparent;
  color: rgba(255,255,255,0.78);
  border: 1px solid rgba(255,255,255,0.18);
  padding: 8px 12px;
  border-radius: 999px;
  cursor: pointer;
}

.x-toggle:hover {
  border-color: rgba(255,255,255,0.35);
}

.x-link {
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
  .x-actions {
    flex-direction: column;
    align-items: flex-start;
  }
}
/* =========================
   Latest from X (single featured)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.8;
  white-space: pre-wrap;
}

.x-link {
  display: inline-block;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
}
/* =========================
   Latest from X (single featured)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.8;
  white-space: pre-wrap;
}

.x-link {
  display: inline-block;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
}
/* =========================
   Latest from X (clean card + read more)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.85;
  white-space: pre-wrap;
  word-break: break-word;
}

.x-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.x-toggle {
  background: transparent;
  color: rgba(255,255,255,0.78);
  border: 1px solid rgba(255,255,255,0.18);
  padding: 8px 12px;
  border-radius: 999px;
  cursor: pointer;
}

.x-toggle:hover {
  border-color: rgba(255,255,255,0.35);
}

.x-link {
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
  .x-actions {
    flex-direction: column;
    align-items: flex-start;
  }
}
/* =========================
   ArcheNova X Featured Card
   ========================= */

.x-latest{
  max-width: 1100px;
  margin: 0 auto;
  padding: 26px 24px 10px;
}

.x-head{
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 14px;
}

.x-head-left{
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.x-title{
  font-size: 0.95rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.92);
  margin: 0;
}

.x-tags{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.x-tag{
  font-size: 0.72rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.78);
  backdrop-filter: blur(10px);
}

.x-more{
  color: rgba(255,255,255,0.86);
  border-bottom: 1px solid rgba(255,255,255,0.25);
  padding-bottom: 2px;
  white-space: nowrap;
}

.x-card {
  position: relative;
  border-radius: 28px;
  padding: 28px 32px;

  /* 透明感の核 */
  background: rgba(255, 255, 255, 0.035);
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);

  /* 輪郭 */
  border: 1px solid rgba(255, 255, 255, 0.12);

  /* 浮遊感 */
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.03) inset,
    0 12px 40px rgba(0,0,0,0.55);
}

/* ArcheNova "Irreversibility Frame" look */
.x-card-arche{
  position: relative;
  border: 1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(1200px 400px at 20% 0%, rgba(255,255,255,0.06), transparent 55%),
    radial-gradient(700px 280px at 90% 20%, rgba(255,255,255,0.05), transparent 60%),
    rgba(0,0,0,0.35);
  box-shadow:
    0 20px 60px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.06);
  backdrop-filter: blur(14px);
}

/* Corner "constraint marks" */
.x-card-arche::before,
.x-card-arche::after{
  content:"";
  position:absolute;
  width: 14px;
  height: 14px;
  border: 1px solid rgba(255,255,255,0.22);
  opacity: 0.8;
}

.x-card-arche::before{
  top: 14px;
  left: 14px;
  border-right: none;
  border-bottom: none;
  border-top-left-radius: 6px;
}

.x-card-arche::after{
  bottom: 14px;
  right: 14px;
  border-left: none;
  border-top: none;
  border-bottom-right-radius: 6px;
}

/* Text */
.x-text{
  margin: 0 0 16px;
  color: rgba(255,255,255,0.82);
  line-height: 1.85;
  font-size: 1.02rem;
}

/* Actions */
.x-actions{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}

.x-toggle{
  appearance: none;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.86);
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
}

.x-toggle:hover{
  border-color: rgba(255,255,255,0.28);
  background: rgba(255,255,255,0.06);
}

.x-link{
  color: rgba(255,255,255,0.92);
  border-bottom: 1px solid rgba(255,255,255,0.28);
  padding-bottom: 2px;
}

/* Mobile tuning */
@media (max-width: 768px){
  .x-latest{
    padding: 22px 16px 8px;
  }
  .x-card{
    padding: 18px 16px 16px;
    border-radius: 18px;
  }
  .x-text{
    font-size: 0.98rem;
  }
  .x-title{
    font-size: 0.9rem;
    letter-spacing: 0.18em;
  }
}
/* =========================
   ArcheNova Emphasis Motion
   (Latest Irreversible Move)
   ========================= */

/* カードを“重く”見せる：微妙な浮きと深さ */
.x-card-arche{
  transform: translateY(0);
  transition: transform 520ms ease, box-shadow 520ms ease, border-color 520ms ease;
}

/* hoverで少しだけ“近づく” */
.x-card-arche:hover{
  transform: translate3d(
    0,
    calc(-2px + (-1px * var(--scroll-p))),
    0
  );
}

/* ArcheNovaらしい“境界スキャン”の微発光（常時） */
.x-card-arche{
  overflow: hidden;
}

.x-card-arche::marker{ content: ""; } /* 影響なし、保険 */

/* スキャンライン（薄い光が斜めに流れる） */
.x-card-arche .x-scanline{
  position: absolute;
  inset: -40% -40%;
  background: linear-gradient(
    115deg,
    transparent 35%,
    rgba(255,255,255,0.06) 45%,
    transparent 55%
  );
  transform: translateX(-30%) translateY(-10%);
  animation: archeScan 6.8s linear infinite;
  pointer-events: none;
  mix-blend-mode: screen;
}

/* スキャンが強すぎる場合は opacity を下げる */
@keyframes archeScan{
  0%   { transform: translateX(-35%) translateY(-15%); }
  100% { transform: translateX(35%)  translateY(15%); }
}

/* タグにも“規則性”の呼吸（微妙な明滅） */
.x-tag{
  transition: border-color 520ms ease, background 520ms ease;
}

.x-card-arche:hover .x-tag{
  border-color: rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.05);
}

/* モバイルではhoverが無いので常時効果は弱める */
@media (max-width: 768px){
  .x-card-arche:hover{
    transform: none;
  }
  .x-card-arche .x-scanline{
    opacity: 0.65;
  }
}

/* 省電力・酔い防止：動きが苦手なユーザー向け */
@media (prefers-reduced-motion: reduce){
  .x-card-arche,
  .x-card-arche:hover{
    transition: none;
    transform: none;
  }
  .x-card-arche .x-scanline{
    animation: none;
  }
}
.x-irrev-text{
  margin-top: 18px;
  padding: 14px 18px;
  border-radius: 999px;
  font-size: 0.9rem;
  color: rgba(255,255,255,0.82);
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
}
@media (max-width: 768px){
  .x-irrev-text{
    font-size: 0.85rem;
    padding: 12px 16px;
  }
}
/* =========================
.x-card::before,
.x-card::after {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  border: 1px solid rgba(255,255,255,0.25);
  opacity: 0.6;
}

.x-card::before {
  top: 14px;
  left: 14px;
  border-right: none;
  border-bottom: none;
}

.x-card::after {
  bottom: 14px;
  right: 14px;
  border-left: none;
  border-top: none;
}
======================== */
.x-tag {
  display: inline-block;
  padding: 10px 18px;
  margin-bottom: 10px;

  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 999px;

  font-size: 0.7rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.85);
}
@media (max-width: 480px) {
  .x-tag {
    padding: 8px 14px;
    font-size: 0.65rem;
    letter-spacing: 0.18em;
  }
}
/* =========================
.x-irrev-text {
  margin-top: 20px;
  padding: 16px 22px;
  border-radius: 999px;

  background: rgba(255,255,255,0.045);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.12);

  font-size: 0.9rem;
  color: rgba(255,255,255,0.85);
}
@media (max-width: 768px) {
  .x-irrev-text {
    font-size: 0.85rem;
    padding: 12px 16px;
  }
}
======================== */
/* =========================
   Scroll Reflection Layer
   ========================= */

.x-card-arche {
  position: relative;
  overflow: hidden;
}

/* 反射レイヤー本体（角度付きの淡い光） */
.x-reflection {
  position: absolute;
  inset: -40%;
  pointer-events: none;
  opacity: 0.55;
  mix-blend-mode: screen;

  background: linear-gradient(
    120deg,
    transparent 35%,
    rgba(255, 255, 255, 0.10) 45%,
    rgba(255, 255, 255, 0.04) 52%,
    transparent 62%
  );

  transform: translate3d(0, 0, 0) rotate(0.001deg);
  will-change: transform, opacity;
}

/* ユーザーが動きを減らす設定なら止める */
@media (prefers-reduced-motion: reduce) {
  .x-reflection {
    display: none;
  }
}
:root {
  --scroll-p: 0; /* 0〜1 */
}

/* スクロール率に応じて反射の位置と透明度が微妙に変化 */
.x-reflection {
  transform:
    translate3d(
      calc(-18% + (var(--scroll-p) * 36%)),
      calc(-10% + (var(--scroll-p) * 20%)),
      0
    )
    rotate(-8deg);

  opacity: calc(0.35 + (var(--scroll-p) * 0.25));
}
/* =========================
   Micro Parallax (sub-pixel)
   ========================= */

/* カード全体がほんの少しだけ“浮く” */
.x-card-arche{
  will-change: transform;
}

/* スクロール率に応じて 0.0px → -1.0px だけ上に移動（重さは残す） */
.x-card-arche{
  transform: translate3d(
    0,
    calc(-1px * var(--scroll-p)),
    0
  );
}

/* 反射レイヤーは別軸で動いているので自然に見える */
@media (prefers-reduced-motion: reduce){
  .x-card-arche{
    transform: none !important;
  }
}
/* =========================
/* =========================
   Latest X (Compact Glass)
   ========================= */

.x-latest{
  max-width: 860px;
  margin: 0 auto;
  padding: 32px 32px 70px;
}

@media (max-width: 768px){
  .x-latest{
    padding: 22px 20px 54px;
  }
}

/* 見出し行：コンパクト */
.x-compact-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  margin-bottom: 12px;
}

.x-compact-title{
  margin:0;
  font-size: 0.95rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.88);
}

.x-compact-cta{
  white-space: nowrap;
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size: 0.9rem;
  color: rgba(255,255,255,0.86);
  border-bottom: 1px solid rgba(255,255,255,0.22);
  padding-bottom: 2px;
  opacity: 0.9;
}

/* カード：背景が“見える”ガラス + 読みやすさ */
.x-compact-card{
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  padding: 16px 16px 14px;

  /* 背景が見える程度の透明感 */
  background: rgba(255,255,255,0.028);

  /* ただし文字の可読性を保つために blur をしっかり */
  backdrop-filter: blur(16px) saturate(125%);
  -webkit-backdrop-filter: blur(16px) saturate(125%);

  border: 1px solid rgba(255,255,255,0.10);

  box-shadow:
    0 0 0 1px rgba(255,255,255,0.025) inset,
    0 16px 50px rgba(0,0,0,0.55);
}

/* スクロール微視差（既に --scroll-p が入る前提） */
.x-compact-card{
  transform: translate3d(0, calc(-0.8px * var(--scroll-p)), 0);
  will-change: transform;
}

/* 反射：控えめに */
.x-compact-reflection{
  position:absolute;
  inset:-55%;
  pointer-events:none;
  opacity: 0.35;
  mix-blend-mode: screen;

  background: linear-gradient(
    120deg,
    transparent 38%,
    rgba(255,255,255,0.10) 48%,
    rgba(255,255,255,0.03) 55%,
    transparent 66%
  );

  transform:
    translate3d(
      calc(-16% + (var(--scroll-p) * 32%)),
      calc(-12% + (var(--scroll-p) * 20%)),
      0
    )
    rotate(-10deg);

  will-change: transform, opacity;
}

/* タグ：小さく、硬く、でも読みやすい */
.x-compact-tags{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom: 10px;
}

.x-compact-tag{
  display:inline-flex;
  align-items:center;
  padding: 7px 10px;
  border-radius: 999px;

  background: rgba(0,0,0,0.22); /* ← 背景が見えるが文字は浮く */
  border: 1px solid rgba(255,255,255,0.10);

  font-size: 0.68rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.78);
}

/* 本文：コンパクトで読みやすい（折り返し綺麗） */
.x-compact-text{
  margin: 0;
  padding: 10px 10px 12px;

  border-radius: 12px;
  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.08);

  font-size: 0.95rem;
  line-height: 1.75;
  letter-spacing: 0.02em;
  color: rgba(255,255,255,0.86);

  word-break: normal;
  overflow-wrap: anywhere;
}

/* 下部リンク：2つを横並び → 収まらなければ折り返し */
.x-compact-foot{
  margin-top: 10px;
  display:flex;
  justify-content:space-between;
  gap:14px;
  flex-wrap: wrap;
}

.x-compact-link{
  font-size: 0.9rem;
  color: rgba(255,255,255,0.82);
  border-bottom: 1px solid rgba(255,255,255,0.20);
  padding-bottom: 2px;
  white-space: nowrap;
  opacity: 0.9;
}

/* hover：ほんの少しだけ“近づく” */
@media (hover:hover){
  .x-compact-card:hover{
    border-color: rgba(255,255,255,0.14);
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.03) inset,
      0 22px 70px rgba(0,0,0,0.62);
  }
}

/* 動きを減らす設定 */
@media (prefers-reduced-motion: reduce){
  .x-compact-card{
    transform: none !important;
  }
  .x-compact-reflection{
    display:none;
  }
}
.x-latest {
  position: relative;
  margin-top: 120px;

  background: rgba(255, 255, 255, 0.012); /* ← かなり薄い */
  border: 1px solid rgba(255, 255, 255, 0.06);

  backdrop-filter: blur(10px) saturate(110%);
  -webkit-backdrop-filter: blur(10px) saturate(110%);

  border-radius: 28px;
  padding: 28px 28px 24px;
}
.x-latest {
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.02),
    0 12px 40px rgba(0,0,0,0.25);
}
.x-compact-card {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(14px);
}
/* =========================
   Latest Irreversible Move : Outer Glass Frame
   ========================= */

.x-latest.x-compact{
  position: relative;
  border-radius: 28px;
  padding: 28px 28px 24px;

  /* 背景が見える程度の透明感（外枠） */
  background: rgba(255, 255, 255, 0.012);
  border: 1px solid rgba(255, 255, 255, 0.06);

  backdrop-filter: blur(10px) saturate(110%);
  -webkit-backdrop-filter: blur(10px) saturate(110%);

  /* 影は控えめ（場としての器） */
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.02),
    0 12px 40px rgba(0,0,0,0.25);
}

/* モバイルは余白を少し縮める */
@media (max-width: 768px){
  .x-latest.x-compact{
    padding: 20px 18px 18px;
    border-radius: 24px;
  }
}

/* 内側カードは“外枠より少し濃い” */
.x-compact-card{
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.08);
}
/* === FIX: remove the "band" behind Latest section === */
.x-latest {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* ガラスはカード側だけに残す */
.x-latest .x-card {
  background: rgba(255,255,255,0.035);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 22px;

  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.10),
    0 18px 40px rgba(0,0,0,0.35);
}
.x-latest::before, .x-latest::after { display: none !important; }
/* Fix: remove hard "boxed" edge on glass cards */
.x-card {
  border: none !important;                /* くっきり線を消す */
  box-shadow: none !important;            /* 硬い影を消す */
  background: rgba(15, 15, 18, 0.42);     /* 透明感は残す */
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
}

/* 境界を“線”ではなく“にじみ”で作る（疑似ハイライト） */
.x-card::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;
  background: radial-gradient(120% 120% at 10% 0%,
    rgba(255,255,255,0.08),
    rgba(255,255,255,0.02) 40%,
    rgba(255,255,255,0.00) 70%);
}

/* Safari/モバイルで合成境界が出るなら、モバイルだけblurを切る */
@media (max-width: 768px){
  .x-card{
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background: rgba(15, 15, 18, 0.55);  /* 代わりに少し濃くして読みやすさ維持 */
  }
}
/* =========================
   FIX: 背景画像をページ全体に適用して「境界線」を消す
   ========================= */

/* 1) ページ全体の背景を画像にする（ここが本命） */
html, body {
  background-image: url("/images/IMG_9379.jpeg") !important; /* PC用 */
  background-size: cover !important;
  background-position: center top !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important; /* スクロールでも背景が切れない */
}

/* 2) hero側の背景画像は無効化（重複・切れ目の原因） */
.hero {
  background-image: none !important;
  background-color: transparent !important;
}

/* 3) heroの暗幕は維持（読みやすさ確保） */
.hero::after {
  background: rgba(0,0,0,0.55) !important;
}

/* 4) 次セクション（Latest from X）が単色背景を持っていたら透明にする */
.x-latest, .x-card {
  background: transparent !important;
}

/* 5) スマホだけ背景画像を差し替える */
@media (max-width: 768px) {
  html, body {
    background-image: url("/images/IMG_9845.jpeg") !important; /* スマホ用 */
    background-position: center top !important;
    background-attachment: scroll !important; /* iOSはfixedが不安定な場合がある */
  }
}
/* =========================
   Fixed Background (PC & Mobile)
   ========================= */

html, body {
  margin: 0;
  padding: 0;
  background: #0b0b0c;
}

/* 背景画像を固定レイヤーとして貼る */
.site-bg {
  position: fixed;
  inset: 0;
  z-index: 0;

  background-image: url("/images/IMG_9379.jpeg"); /* PC */
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;

  /* 少し暗幕（読みやすさ） */
  filter: brightness(0.75) contrast(1.05);
  transform: translateZ(0);
  will-change: transform;
}

/* iPhone/Android は別画像にする */
@media (max-width: 768px) {
  .site-bg {
    background-image: url("/images/IMG_9845.jpeg"); /* Mobile */
    background-position: center top;
  }
}

/* すべての中身を背景より前に出す */
.site-content,
.site-header {
  position: relative;
  z-index: 1;
}

/* もし hero が background-image を持っていたら切れ目原因なので無効化 */
.hero {
  background-image: none !important;
  background-color: transparent !important;
}
/* =========================
   Global Readability Layer
   (Unified black haze + vignette)
   ========================= */

/* 背景上に“薄い黒いぼかし”を全体に敷く */
.site-vignette{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  /* 全体を少しだけ黒くして文字を読ませる（境界を作らない） */
  background:
    radial-gradient(1200px 700px at 50% 20%,
      rgba(0,0,0,0.18),
      rgba(0,0,0,0.42) 60%,
      rgba(0,0,0,0.55) 100%),
    linear-gradient(to bottom,
      rgba(0,0,0,0.10),
      rgba(0,0,0,0.35) 40%,
      rgba(0,0,0,0.55));

  /* “ぼかし感”は backdrop-filter ではなく疑似的に出す（段差が出にくい） */
}

/* 中身は必ず前面 */
.site-content,
.site-header{
  position: relative;
  z-index: 1;
}

/* =========================
   Unified Section Surface
   （ページ全体の統一感の核）
   ========================= */

/* すべての主要セクションに同じ“面”を与える */
.hero.hero-scroll,
.x-latest,
.projects-wrap,
.domains-wrap,
.research-wrap,
.manifesto-wrap,
.framework-wrap {
  position: relative;
}

/* “囲い”ではなく、文字の後ろにだけ薄い面を敷く */
.hero-content,
.x-compact-card,
.projects-card,
.domain-card,
.research-card,
.manifesto-card,
.framework-card {
  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 18px;

  /* 透明感は保つが、段差の原因になりやすい blur は控えめ */
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.06),
    0 14px 40px rgba(0,0,0,0.35);
}

/* Latest枠の“囲い消し”で崩れた統一感を戻す：外枠は透明、内側面で統一 */
.x-latest{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Hero内の面の余白（読みやすさ） */
.hero-content{
  padding: 22px 22px;
}

/* Xカードのコンパクト調整 */
.x-compact-card{
  padding: 16px 16px 14px;
}

/* モバイルは面を少し濃く（可読性優先） */
@media (max-width: 768px){
  .hero-content,
  .x-compact-card,
  .projects-card,
  .domain-card,
  .research-card,
  .manifesto-card,
  .framework-card {
    background: rgba(0,0,0,0.28);
    backdrop-filter: blur(6px) saturate(115%);
    -webkit-backdrop-filter: blur(6px) saturate(115%);
  }
}

/* 動きを減らす */
@media (prefers-reduced-motion: reduce){
  .hero-content,
  .x-compact-card,
  .projects-card,
  .domain-card,
  .research-card,
  .manifesto-card,
  .framework-card {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
}
/* --- FIX: make overlay never block clicks --- */
.site-bg,
.site-vignette {
  pointer-events: none !important;
}

/* ヘッダーを最前面に固定 */
.site-header {
  position: fixed;        /* すでにfixedならOK */
  top: 0;
  left: 0;
  right: 0;
  z-index: 50;            /* overlayより上 */
  pointer-events: auto;
}

/* もし .site-content を z-index:1 にしているなら、ヘッダーだけ上に */
.site-content {
  position: relative;
  z-index: 1;
}
.site-header {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 18px 18px;
}
/* === ArcheNova Unified Readability Film === */
.readability-film {
  background: rgba(0, 0, 0, 0.10);   /* ← 濃さを統一（10%） */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 28px;

  /* 境界を感じさせない */
  box-shadow: none;
  border: none;
}
/* =========================================================
   ArcheNova — Unified Readability Film (GLOBAL OVERRIDE)
   目的：全ページで「薄い黒フィルム」を統一し、文字を読みやすくする
   ========================================================= */

:root {
  --film: rgba(0, 0, 0, 0.12);   /* ← 濃さはここだけで管理（おすすめ 0.10〜0.14） */
  --film-strong: rgba(0, 0, 0, 0.16); /* 必要なら少し強め（基本は使わない） */
  --film-blur: 10px;
}

/* 1) 統一フィルム（これだけ使う） */
.readability-film {
  background: var(--film) !important;
  backdrop-filter: blur(var(--film-blur)) !important;
  -webkit-backdrop-filter: blur(var(--film-blur)) !important;
  border: none !important;
  box-shadow: none !important;
}

/* 2) 既存の“濃い黒背景・枠線”を強制的に消す（ページ差をなくす） */
.hero-content,
.about,
.about-inner,
.x-latest,
.x-card,
.section,
.card,
.panel {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* 3) 主要コンテナに「統一フィルム」を適用（全ページで読む） */
.hero-content,
.about-inner,
.x-card,
.section,
.card,
.panel {
  background: var(--film) !important;
  backdrop-filter: blur(var(--film-blur)) !important;
  -webkit-backdrop-filter: blur(var(--film-blur)) !important;
  border-radius: 28px;
}

/* 4) 文字の可読性をページ差なく統一 */
.hero p,
.about p,
.x-text,
.card p,
.section p {
  color: rgba(245, 245, 245, 0.86) !important;
}

/* 5) “境界線がくっきり出る原因”になりやすいinset/outline系を無効化 */
.hero-content,
.about-inner,
.x-card,
.card,
.panel {
  outline: none !important;
}

/* 6) モバイルは少しだけフィルム濃度を上げても読みやすい（背景が暗いなら同値でもOK） */
@media (max-width: 768px) {
  :root {
    --film: rgba(0, 0, 0, 0.14);
    --film-blur: 12px;
  }
}
/* =========================================================
   ArcheNova — Menu (Glass Drawer)
   ========================================================= */

.site-header{
  position: relative;
  z-index: 80;
}

/* ボタン */
.menu-btn{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.20);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;

  display: grid;               /* ←中央に固定 */
  place-items: center;         /* ←中央に固定 */
}

/* ハンバーガー3本線（間隔を詰める） */
.menu-icon{
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.88);
  position: relative;
  border-radius: 2px;
}

.menu-icon::before,
.menu-icon::after{
  content:"";
  position:absolute;
  left:0;
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.88);
  border-radius: 2px;
}

.menu-icon::before{ top: -5px; }  /* ←詰める */
.menu-icon::after { top:  5px; }  /* ←詰める */

/* オーバーレイ（最前面） */
.menu-overlay{
  position: fixed;
  inset: 0;
  z-index: 9998;               /* ←重要：前面に出す */
  background: transparent;
}

/* 背景だけをぼかす層（クリックを邪魔しない） */
.menu-overlay::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.28);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  pointer-events: none;        /* ←重要：クリック阻害しない */
}

/* 上部 */
.menu-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 14px;
}

.menu-brand-title {
  display: block;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
}
.menu-brand-sub {
  display: block;
  margin-top: 6px;
  font-size: 0.9rem;
  color: rgba(245,245,245,0.65);
}

.menu-close {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.18);
  color: rgba(245,245,245,0.85);
  cursor: pointer;
}

/* ナビ */
.menu-nav {
  display: grid;
  gap: 10px;
  padding: 10px 0 8px;
}

.menu-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
  color: rgba(245,245,245,0.88);
  text-decoration: none;
}

.menu-item:hover {
  border-color: rgba(255,255,255,0.16);
  background: rgba(0,0,0,0.18);
}

.menu-item.active {
  border-color: rgba(255,255,255,0.24);
  background: rgba(255,255,255,0.06);
}

.menu-arrow {
  color: rgba(245,245,245,0.55);
}

/* 下部 */
.menu-foot {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

.menu-foot-note {
  display: block;
  font-size: 0.85rem;
  color: rgba(245,245,245,0.60);
  line-height: 1.5;
}

/* モバイル最適化 */
@media (max-width: 768px) {
  .site-header { top: 14px; right: 14px; }
  .menu-panel { top: 14px; right: 14px; }
  .menu-item { padding: 14px 14px; }
}
/* ===== Menu panel (glass) ===== */
.menu-panel{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 9999;               /* ←overlayより上 */
  width: min(420px, calc(100vw - 36px));
  border-radius: 18px;
  overflow: hidden;
  filter: none !important;
}

/* 中の文字を前面に（ボケない） */
.menu-panel * {
  position: relative;
  z-index: 1;
}

/* メニューリンク文字 */
.menu-panel a,
.menu-panel button {
  color: rgba(245, 245, 245, 0.92);
}
/* =========================================================
   ArcheNova Page System (Unified)
   ========================================================= */

.page-standard{
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.page-head h1{
  font-size: 2.6rem;
  margin: 0 0 12px;
}

.page-lead{
  color: rgba(245,245,245,0.72);
  line-height: 1.9;
  max-width: 820px;
}

.contact-manifest-line{
  margin: 10px 0 16px;
  font-size: 1.05rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.85);
  opacity: 0.88;
}

.glass-block{
  margin-top: 18px;
  padding: 18px 18px;
  border-radius: 22px;
  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
}

.glass-block h2{
  margin: 0 0 12px;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
}

.text{
  margin: 0 0 10px;
  color: rgba(245,245,245,0.76);
  line-height: 1.9;
}

.text.dim{ color: rgba(245,245,245,0.60); }

.quote{
  margin: 10px 0 0;
  color: rgba(245,245,245,0.78);
  letter-spacing: 0.02em;
}

.bullets{
  margin: 0;
  padding-left: 18px;
  color: rgba(245,245,245,0.76);
  line-height: 1.9;
}

.inline-link{
  display: inline-block;
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.92);
  text-decoration: none;
}

.inline-link:hover{
  border-color: rgba(255,255,255,0.20);
  background: rgba(255,255,255,0.06);
}

/* ---- Diagram: two columns ---- */
.diagram-two{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 10px;
}

.diagram-card{
  border-radius: 18px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.07);
  padding: 14px;
}

.diagram-label{
  font-size: 0.95rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.86);
  margin-bottom: 10px;
}

/* ---- Diagram: flow ---- */
.diagram-flow{
  margin-top: 14px;
  display: grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  gap: 10px;
  align-items: center;
}

.flow-node{
  text-align: center;
  padding: 12px 10px;
  border-radius: 16px;
  background: rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(245,245,245,0.80);
}

.flow-arrow{
  color: rgba(245,245,245,0.50);
  text-align: center;
}

/* ---- Diagram: stack ---- */
.diagram-stack{
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.stack-item{
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(245,245,245,0.78);
  letter-spacing: 0.02em;
}

.stack-item.bad{
  border-color: rgba(255,255,255,0.06);
  color: rgba(245,245,245,0.62);
}

.stack-item.ok{
  border-color: rgba(255,255,255,0.10);
  color: rgba(245,245,245,0.82);
}

.page-foot{
  margin-top: 18px;
}

.back-link{
  color: rgba(245,245,245,0.70);
  text-decoration: none;
  border-bottom: 1px solid rgba(245,245,245,0.25);
}

.back-link:hover{
  border-bottom-color: rgba(245,245,245,0.55);
}

@media (max-width: 768px){
  .page-standard{ padding: 110px 20px; }
  .diagram-two{ grid-template-columns: 1fr; }
  .diagram-flow{ grid-template-columns: 1fr; }
  .flow-arrow{ display: none; }
}
/* =========================================================
   HOME Cards — Vertical Stack (Desktop)
   ========================================================= */

@media (min-width: 1024px) {
  .hero-links {
    display: flex;
    flex-direction: column;     /* 縦方向に並べる */
    align-items: center;        /* 中央揃え */
    gap: 18px;                  /* カード間の余白 */
    margin-top: 40px;
  }

  .hero-links a {
    width: 100%;
    max-width: 720px;           /* 横に広がりすぎない */
    text-align: center;
  }
}

/* =========================
   Menu (ArcheNova) — fixed trigger + clean overlay
   ========================= */

.menu {
  position: relative;
}

/* overlay：blurは “背景だけ” にかける（文字はぼかさない） */
.menu-overlay {
  position: fixed;
  inset: 0;
  z-index: 9990;
}

.menu-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

/* パネル：ガラス＋薄い黒フィルム（読みやすさ優先） */
.menu-panel {
  position: relative;
  z-index: 1;
  width: min(520px, calc(100vw - 28px));
  margin: 74px auto 0;
  padding: 18px 18px 14px;

  border-radius: 22px;
  background: rgba(0, 0, 0, 0.40);
  border: 1px solid rgba(255, 255, 255, 0.10);
  box-shadow: 0 24px 80px rgba(0,0,0,0.55);

  outline: none;
}

/* 上部 */
.menu-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.menu-brand-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
  display: block;
}

.menu-brand-sub {
  font-size: 0.92rem;
  color: rgba(210,210,210,0.75);
  display: block;
  margin-top: 3px;
}

.menu-close {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(245,245,245,0.90);
  cursor: pointer;
}

/* ナビ */
.menu-nav {
  display: grid;
  gap: 10px;
  margin-top: 12px;
}

.menu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;

  padding: 14px 14px;
  border-radius: 16px;

  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);

  color: rgba(245,245,245,0.90);
  text-decoration: none;
  border-bottom: none !important; /* あなたのaの下線ルールを無効化 */

  letter-spacing: 0.03em;
}

.menu-item:hover {
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.12);
}

.menu-item.active {
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.18);
}

.menu-arrow {
  color: rgba(245,245,245,0.55);
}

/* フッター */
.menu-foot {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

.menu-foot-note {
  color: rgba(200,200,200,0.65);
  font-size: 0.9rem;
  line-height: 1.5;
}

/* =========================================================
   ArcheNova — Menu (isolated, conflict-proof)
   ========================================================= */

.site-header{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 10000;
}

/* button */
.an-menu-btn{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.22);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.35);
  cursor: pointer;

  display: grid;
  place-items: center;
}

/* icon */
.an-menu-icon{
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.92);
  position: relative;
  border-radius: 2px;
}
.an-menu-icon::before,
.an-menu-icon::after{
  content:"";
  position:absolute;
  left:0;
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.92);
  border-radius: 2px;
}
.an-menu-icon::before{ top:-5px; }
.an-menu-icon::after { top: 5px; }

/* overlay */
.an-menu-overlay{
  position: fixed;
  inset: 0;
  z-index: 9998;
  background: transparent;
}
.an-menu-overlay::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.28);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  pointer-events: none;
}

/* panel */
.an-menu-panel{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 9999;

  width: min(420px, calc(100vw - 36px));
  padding: 18px;
  border-radius: 22px;
  overflow: hidden;

  background: rgba(0,0,0,0.34);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 24px 80px rgba(0,0,0,0.55);
  outline: none;
}

/* top */
.an-menu-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  margin-bottom:14px;
}
.an-menu-brand-title{
  display:block;
  font-size:1.05rem;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color:rgba(245,245,245,0.92);
}
.an-menu-brand-sub{
  display:block;
  margin-top:6px;
  font-size:0.9rem;
  color:rgba(245,245,245,0.65);
}
.an-menu-close{
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: rgba(245,245,245,0.90);
  cursor: pointer;
}

/* nav */
.an-menu-nav{
  display:grid;
  gap:10px;
  padding:10px 0 8px;
}
.an-menu-item{
  display:flex;
  justify-content:space-between;
  align-items:center;

  padding:12px 14px;
  border-radius:16px;

  border:1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.05);

  color: rgba(245,245,245,0.90);
  text-decoration:none;
}
.an-menu-item:hover{
  border-color: rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.08);
}
.an-menu-item.active{
  border-color: rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.10);
}
.an-menu-arrow{ color: rgba(245,245,245,0.55); }

/* foot */
.an-menu-foot{
  margin-top:10px;
  padding-top:10px;
  border-top:1px solid rgba(255,255,255,0.08);
}
.an-menu-foot-note{
  display:block;
  font-size:0.85rem;
  color:rgba(245,245,245,0.60);
  line-height:1.5;
}

/* mobile */
@media (max-width: 768px){
  .site-header{ top:14px; right:14px; }
  .an-menu-panel{ top:14px; right:14px; }
}
/* Force hamburger to be pinned top-right (always) */
.an-menu-btn{
 position: fixed;
 top: 18px;
 right: 18px;
 z-index: 10000;
}

@media (max-width: 768px){
 .an-menu-btn{
   top: 14px;
   right: 14px;
 }
}
/* --- Hamburger: keep perfectly centered even when menu opens --- */
.menu-btn{
  position: fixed;           /* 念のため：常に右上固定 */
  top: 18px;
  right: 18px;
  z-index: 10001;

  padding: 0 !important;     /* ←ズレ原因を消す */
  line-height: 0 !important; /* ←ズレ原因を消す */
  display: grid;
  place-items: center;

  transform: none !important; /* ←open時のズレ対策 */
}

@media (max-width: 768px){
  .menu-btn{
    top: 14px;
    right: 14px;
  }
}

/* 中の三本線を完全センター固定 */
.menu-icon{
  margin: 0 !important;
  display: block;
  position: relative;
  left: 0;
  top: 0;
  transform: none !important;
}

/* 擬似要素もセンター基準を固定 */
.menu-icon::before,
.menu-icon::after{
  left: 0;
  transform: none !important;
}
.menu { transform: none !important; filter: none !important; }

/* =========================
   ArcheNova Menu (Stable)
   ========================= */

/* ハンバーガー固定 */
.menu-trigger {
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 10000;

  width: 48px;
  height: 48px;
  border-radius: 14px;

  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  display: grid;
  place-items: center;
  cursor: pointer;
}

/* 三本線 */
.menu-trigger .bar {
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.92);
  border-radius: 2px;
}
.menu-trigger .bar + .bar {
  margin-top: 4px;
}

/* オーバーレイ */
.menu-overlay {
  position: fixed;
  inset: 0;
  z-index: 9990;
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* メニューパネル */
.menu-panel {
  position: relative;
  margin: 80px auto 0;
  width: min(520px, calc(100vw - 28px));
  padding: 18px;

  border-radius: 22px;
  background: rgba(0,0,0,0.42);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 24px 80px rgba(0,0,0,0.55);
}

/* 上部 */
.menu-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.menu-brand-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.menu-brand-sub {
  font-size: 0.9rem;
  color: rgba(245,245,245,0.65);
}

.menu-close {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  color: #fff;
  cursor: pointer;
}

/* ナビ */
.menu-nav {
  display: grid;
  gap: 10px;
}

.menu-item {
  display: flex;
  justify-content: space-between;
  padding: 14px;
  border-radius: 16px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);
  text-decoration: none;
  color: rgba(245,245,245,0.92);
}

.menu-item.active {
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.18);
}

.menu-arrow {
  opacity: 0.6;
}

/* フッター */
.menu-foot {
  margin-top: 14px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

.menu-foot-note {
  font-size: 0.85rem;
  color: rgba(245,245,245,0.65);
}

/* モバイル */
@media (max-width: 768px) {
  .menu-trigger {
    top: 14px;
    right: 14px;
    width: 44px;
    height: 44px;
  }
}

/* =========================================================
   EMERGENCY HOTFIX — Menu icon & panel
   ========================================================= */

/* 右上固定（中央寄り・ズレ完全排除） */
.menu-btn{
  position: fixed !important;
  top: 18px !important;
  right: 18px !important;
  left: auto !important;
  z-index: 10000 !important;

  width: 44px !important;
  height: 44px !important;
  border-radius: 14px !important;

  background: rgba(0,0,0,0.22) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;

  display: grid !important;
  place-items: center !important;
}

/* 三本線：必ず詰まった状態に固定 */
.menu-icon{
  width: 18px !important;
  height: 2px !important;
  background: rgba(245,245,245,0.92) !important;
  position: relative !important;
  border-radius: 2px !important;
}
.menu-icon::before,
.menu-icon::after{
  content:"" !important;
  position:absolute !important;
  left:0 !important;
  width: 18px !important;
  height: 2px !important;
  background: rgba(245,245,245,0.92) !important;
  border-radius: 2px !important;
}
.menu-icon::before{ top: -5px !important; }
.menu-icon::after { top:  5px !important; }

/* open中はアイコン非表示（ズレ防止） */
.menu.is-open .menu-btn{
  display: none !important;
}

/* overlay（ぼかしだけ） */
.menu-overlay{
  position: fixed !important;
  inset: 0 !important;
  z-index: 9990 !important;
  background: rgba(0,0,0,0.32) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
}

/* panel：必ず表示・最前面・項目が出る */
.menu-panel{
  position: fixed !important;
  top: 18px !important;
  right: 18px !important;
  z-index: 9999 !important;

  width: min(420px, calc(100vw - 36px)) !important;
  padding: 18px !important;

  border-radius: 22px !important;
  background: rgba(0,0,0,0.42) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  box-shadow: 0 24px 80px rgba(0,0,0,0.55) !important;

  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  transform: none !important;
}

/* モバイル */
@media (max-width: 768px){
  .menu-btn{ top: 14px !important; right: 14px !important; }
  .menu-panel{
    top: 14px !important;
    right: 14px !important;
    width: calc(100vw - 28px) !important;
  }
}
/* =========================================================
   HOTFIX: Menu items not clickable (overlay steals clicks)
   ========================================================= */

/* overlayは表示だけ */
.menu-overlay{
  position: fixed !important;
  inset: 0 !important;
  z-index: 9990 !important;
}

/* ぼかし背景＋クリックで閉じる“背景ボタン” */
.menu-backdrop{
  position: absolute !important;
  inset: 0 !important;

  background: rgba(0,0,0,0.32) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;

  border: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  cursor: default !important;
}

/* panelは最前面＆クリック可能 */
.menu-panel{
  position: fixed !important;
  top: 18px !important;
  right: 18px !important;
  z-index: 9999 !important;

  pointer-events: auto !important;   /* ←これが重要 */
}

/* menu-item も確実にクリック可能 */
.menu-item{
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* open中はアイコン非表示（ズレ防止） */
.menu.is-open .menu-btn{ display: none !important; }

/* モバイル */
@media (max-width: 768px){
  .menu-panel{
    top: 14px !important;
    right: 14px !important;
    width: calc(100vw - 28px) !important;
  }
}

/* =========================================================
   Boundary Plaza — Home Card
   ========================================================= */

.plaza-feature{
  max-width: 860px;
  margin: 26px auto 0;
  padding: 0 32px;
}

.plaza-card{
  display: block;
  border-radius: 22px;
  padding: 18px 18px;
  text-decoration: none;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  box-shadow: 0 22px 70px rgba(0,0,0,0.45);
}

.plaza-card:hover{
  border-color: rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.22);
}

.plaza-eyebrow{
  font-size: 0.82rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.70);
}

.plaza-title{
  margin-top: 10px;
  font-size: 1.6rem;
  letter-spacing: 0.02em;
  color: rgba(245,245,245,0.95);
}

.plaza-desc{
  margin-top: 6px;
  color: rgba(245,245,245,0.70);
}

.plaza-hint{
  margin-top: 12px;
  font-size: 0.95rem;
  color: rgba(245,245,245,0.85);
  letter-spacing: 0.06em;
}

/* =========================================================
   Boundary Plaza — Page
   ========================================================= */

.plaza{
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.plaza-open{
  border-radius: 26px;
  padding: 22px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.plaza-kicker{
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.70);
  font-size: 0.85rem;
}

.plaza-h1{
  margin: 10px 0 0;
  font-size: 2.2rem;
  letter-spacing: -0.02em;
}

.plaza-entrance{
  margin-top: 14px;
  color: rgba(245,245,245,0.82);
  line-height: 1.8;
}

.plaza-choice{
  margin-top: 18px;
  display: flex;
  gap: 12px;
}

.plaza-enter,
.plaza-back{
  display: inline-block;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  color: rgba(245,245,245,0.90);
  text-decoration: none;
}

.plaza-enter:hover,
.plaza-back:hover{
  border-color: rgba(255,255,255,0.20);
  background: rgba(255,255,255,0.07);
}

.plaza-section-title{
  margin-top: 34px;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  font-size: 0.92rem;
  color: rgba(245,245,245,0.78);
}

.plaza-section-note{
  margin-top: 10px;
  color: rgba(245,245,245,0.68);
  line-height: 1.9;
  max-width: 860px;
}

.bo-grid{
  margin-top: 16px;
  display: grid;
  gap: 14px;
  grid-template-columns: 1fr 1fr;
}

.bo-card{
  border-radius: 22px;
  padding: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.bo-head{
  display: flex;
  gap: 10px;
  align-items: baseline;
  justify-content: space-between;
}

.bo-no{
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.60);
  font-size: 0.82rem;
}

.bo-title{
  margin: 0;
  font-size: 1.05rem;
  color: rgba(245,245,245,0.92);
  line-height: 1.35;
  text-align: right;
  max-width: 70%;
}

.bo-diagram{
  margin-top: 12px;
  border-radius: 18px;
  padding: 10px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.03);
}

.bo-diagram svg{
  width: 100%;
  height: auto;
  display: block;
}

.bo-text{
  margin-top: 12px;
  color: rgba(245,245,245,0.72);
  line-height: 1.9;
  font-size: 0.98rem;
}

/* Quiet Interaction */
.takeone{
  margin-top: 14px;
}

.takeone-card{
  border-radius: 24px;
  padding: 18px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.takeone-kicker{
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.70);
  font-size: 0.85rem;
}

.takeone-title{
  margin-top: 8px;
  color: rgba(245,245,245,0.92);
  font-size: 1.1rem;
}

.takeone-text{
  margin-top: 10px;
  color: rgba(245,245,245,0.72);
  line-height: 1.9;
  font-size: 1.0rem;
}

.takeone-actions{
  margin-top: 14px;
  display: flex;
  gap: 10px;
}

.takeone-btn{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  color: rgba(245,245,245,0.92);
  cursor: pointer;
}

.takeone-btn:hover{
  border-color: rgba(255,255,255,0.20);
  background: rgba(255,255,255,0.07);
}

.takeone-btn.primary{
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.18);
}

.takeone-note{
  margin-top: 10px;
  color: rgba(245,245,245,0.55);
  font-size: 0.9rem;
}

/* Exit */
.plaza-exit{
  margin-top: 34px;
  border-radius: 24px;
  padding: 18px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.plaza-exit-text{
  color: rgba(245,245,245,0.78);
  line-height: 1.9;
}

.plaza-exit-links{
  margin-top: 14px;
  display: flex;
  gap: 12px;
}

/* Mobile */
@media (max-width: 768px){
  .plaza-feature{ padding: 0 20px; }
  .plaza{ padding: 110px 20px; }
  .bo-grid{ grid-template-columns: 1fr; }
  .bo-title{ text-align: left; max-width: 100%; }
}

/* Constraint Forge — Heatmap mobile fix */
.forge-heatmap-wrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 6px;
}

.forge-heatmap {
  min-width: 520px; /* これでD/Eまで必ず表示できる */
}

@media (max-width: 768px) {
  .forge-heatmap {
    min-width: 560px;
  }
}

/* =========================================================
   ArcheNova Structural AI — UI (no advice, no generation)
   ========================================================= */

.an-ai-box {
  margin-top: 12px;
  padding: 14px;
  border-radius: 18px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.08);
}

.an-ai-input {
  width: 100%;
  min-height: 96px;
  resize: vertical;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.20);
  color: rgba(245,245,245,0.90);
  outline: none;
  line-height: 1.7;
}

.an-ai-input::placeholder {
  color: rgba(245,245,245,0.45);
}

.an-ai-actions {
  margin-top: 12px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.an-ai-inline {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.an-ai-text {
  flex: 1;
  min-width: 220px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.20);
  color: rgba(245,245,245,0.90);
  outline: none;
}

.an-ai-chips {
  margin-top: 12px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.an-ai-chip {
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.86);
  cursor: pointer;
}

.an-ai-chip span {
  opacity: 0.65;
  margin-left: 6px;
}

.an-ai-out {
  margin-top: 14px;
  padding: 14px;
  border-radius: 18px;
  background: rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.08);
}

.an-ai-row {
  display: grid;
  grid-template-columns: 170px 1fr;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

.an-ai-row:last-child {
  border-bottom: none;
}

.an-ai-k {
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.72);
  font-size: 0.86rem;
}

.an-ai-v {
  color: rgba(245,245,245,0.88);
  line-height: 1.8;
}

.an-ai-tags {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.an-ai-tag {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.86);
  font-size: 0.92rem;
}

@media (max-width: 768px) {
  .an-ai-row {
    grid-template-columns: 1fr;
  }
}

/* =========================================================
   Science & Tech — Feed UI (ArcheNova style)
   ========================================================= */

.feed-grid{
  margin-top: 18px;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 14px;
}

/* 列ヘッダ */
.feed-col-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.feed-list{
  display: grid;
  gap: 10px;
}

/* アイテム（カード内カード） */
.feed-item{
  display: block;
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  text-decoration: none;
  border-bottom: none !important;
}

.feed-item:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.12);
}

.feed-title{
  color: rgba(245,245,245,0.92);
  line-height: 1.55;
  font-size: 0.98rem;
  word-break: break-word;
}

.feed-meta{
  margin-top: 6px;
  color: rgba(245,245,245,0.58);
  font-size: 0.85rem;
  letter-spacing: 0.06em;
}

/* モバイル：横スクロール（3列→横に流す） */
@media (max-width: 900px){
  .feed-grid{
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px){
  .feed-grid{
    display: flex;
    gap: 12px;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 8px;
  }
  .feed-grid::-webkit-scrollbar{
    height: 8px;
  }
  .feed-grid::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,0.10);
    border-radius: 999px;
  }

  .feed-col{
    min-width: 88vw;
  }
}

/* =========================================================
   HOME — unified card width + Science & Tech switch card
   ========================================================= */

/* 既存のHOMEリンク（Manifesto〜）を「同じ幅」で揃える */
.hero-links {
  width: 100%;
  display: grid;
  gap: 14px;
  justify-items: center; /* ←端寄り防止 */
  margin-top: 40px;
}

.hero-links > a {
  width: 100%;
  max-width: 720px;      /* ←他カードと統一 */
  text-align: center;
}

/* Science & Tech は <a> ではなく <div> なので同じ幅を付ける */
.hero-links > .home-card {
  width: 100%;
  max-width: 720px;      /* ←統一 */
}

/* Science & Tech HOME card（既存のガラス系に合わせる） */
.home-card {
  border-radius: 18px;
  background: rgba(0,0,0,0.14);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  padding: 14px 14px 12px;
}

.home-card-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.home-card-title{
  font-size: 0.95rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.90);
}

.home-card-link{
  display: inline-block;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.90);
  text-decoration: none;
  border-bottom: none !important;
}

.home-card-link:hover{
  border-color: rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
}

.home-card-body{
  display: grid;
  gap: 10px;
}

.home-scitech-meta{
  display: flex;
  align-items: center;
  gap: 10px;
  color: rgba(245,245,245,0.65);
  font-size: 0.86rem;
}

.home-scitech-meta .tag{
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.85);
  letter-spacing: 0.06em;
}

.home-scitech-meta .date{
  opacity: 0.85;
}

.home-scitech-title{
  color: rgba(245,245,245,0.92);
  text-decoration: none;
  border-bottom: none !important;
  line-height: 1.5;
  font-size: 1.02rem;
}

.home-scitech-title:hover{
  opacity: 0.92;
}

.home-scitech-summary{
  color: rgba(245,245,245,0.72);
  line-height: 1.8;
  font-size: 0.95rem;
}

.home-scitech-actions{
  margin-top: 2px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.home-scitech-btn{
  width: 38px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.88);
  cursor: pointer;
}

.home-scitech-btn:hover{
  border-color: rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
}

.home-scitech-dots{
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: center;
  flex: 1;
}

.home-scitech-dots .dot{
  width: 7px;
  height: 7px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.08);
  cursor: pointer;
}

.home-scitech-dots .dot.on{
  background: rgba(255,255,255,0.55);
  border-color: rgba(255,255,255,0.35);
}

.dim{ opacity: 0.85; }

/* =========================================================
   HOME — Vertical Unified Stack (Manifest → Projects → Science & Tech)
   ========================================================= */

/* HOMEカード群を縦一列・中央揃えに固定 */
.hero-links {
  width: 100%;
  display: flex;
  flex-direction: column;   /* ← 縦一列 */
  align-items: center;      /* ← 中央揃え */
  gap: 18px;                /* ← カード間の統一余白 */
  margin-top: 42px;
}

/* HOME内のすべてのカードを同一幅に */
.hero-links > a,
.hero-links > .home-card {
  width: 100%;
  max-width: 720px;         /* ← ArcheNova標準幅 */
}

/* リンクカード（Manifest〜Projects）の表示安定化 */
.hero-links > a {
  display: block;
  text-align: center;
}

/* =========================================================
   Science & Tech — HOME Card (stack-aligned)
   ========================================================= */

.home-card.home-scitech {
  margin: 0;                /* ← 浮き防止 */
}

/* 中身の詰め方を他カードと合わせる */
.home-card-body {
  display: grid;
  gap: 12px;
}

/* モバイルでも縦スタックを崩さない */
@media (max-width: 768px) {
  .hero-links {
    gap: 16px;
    margin-top: 36px;
  }

  .hero-links > a,
  .hero-links > .home-card {
    max-width: 100%;
  }
}

/* =========================================================
   Technology — HOME Card & Tabs
   ========================================================= */

/* HOMEカード共通の流れに合わせる */
.home-tech {
  margin-top: 22px;
}

/* ヘッダー */
.home-tech .home-card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.home-tech .home-card-title {
  font-size: 1.1rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.home-tech .home-card-sub {
  margin-top: 6px;
  font-size: 0.9rem;
  color: rgba(245,245,245,0.65);
}

/* ===== ①〜⑥ カテゴリ切替タブ ===== */
.tech-tabs {
  display: flex;
  gap: 10px;
  margin: 14px 0 12px;
  padding-bottom: 4px;

  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.tech-tabs::-webkit-scrollbar {
  display: none;
}

.tech-tab {
  flex: 0 0 auto;
  padding: 10px 14px;
  border-radius: 999px;

  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);

  color: rgba(245,245,245,0.75);
  font-size: 0.9rem;
  letter-spacing: 0.06em;
  white-space: nowrap;
  cursor: pointer;
}

.tech-tab:hover {
  background: rgba(255,255,255,0.07);
  border-color: rgba(255,255,255,0.16);
  color: rgba(245,245,245,0.88);
}

.tech-tab.is-active {
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,255,255,0.22);
  color: rgba(245,245,245,0.92);
}

/* Skeleton（ロード中） */
.tech-tab-skeleton {
  width: 110px;
  height: 34px;
  background: rgba(255,255,255,0.05);
  border-radius: 999px;
}

/* ===== 観測点 ===== */
.tech-observation {
  margin-bottom: 14px;
  padding: 12px 14px;
  border-radius: 18px;

  background: rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.08);
}

.tech-observation-label {
  display: block;
  margin-bottom: 6px;
  font-size: 0.8rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.55);
}

.tech-observation-text {
  color: rgba(245,245,245,0.78);
  line-height: 1.7;
}

/* ===== 最新5件リスト ===== */
.home-tech-list {
  display: grid;
  gap: 12px;
}

.home-tech-item {
  display: block;
  padding: 14px 16px;
  border-radius: 18px;

  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.07);

  text-decoration: none;
  transition: background 120ms ease, border-color 120ms ease;
}

.home-tech-item:hover {
  background: rgba(0,0,0,0.18);
  border-color: rgba(255,255,255,0.14);
}

.home-tech-meta {
  margin-bottom: 6px;
}

.home-tech-source {
  font-size: 0.8rem;
  letter-spacing: 0.08em;
  color: rgba(245,245,245,0.55);
}

.home-tech-title {
  font-size: 0.95rem;
  line-height: 1.5;
  color: rgba(245,245,245,0.92);
}

.home-tech-summary {
  margin-top: 6px;
  font-size: 0.85rem;
  line-height: 1.6;
  color: rgba(245,245,245,0.70);
}

/* ロード中 */
.home-tech-loading {
  padding: 16px;
  border-radius: 18px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.06);
  color: rgba(245,245,245,0.65);
}

.home-tech-loading-sub {
  margin-top: 6px;
  font-size: 0.8rem;
  color: rgba(245,245,245,0.45);
}

/* モバイル最適化 */
@media (max-width: 768px) {
  .home-tech-item {
    padding: 14px 14px;
  }
}

/* =========================================================
   HOME — unified card (used by TechnologyHome mode="home")
   ========================================================= */

.home-card{
  max-width: 980px;
  margin: 18px auto 0;
  padding: 18px 18px;
  border-radius: 22px;

  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
}

.home-card-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
}

.home-card-title{
  margin: 0;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
}

.home-card-meta{
  font-size: 0.85rem;
  color: rgba(245,245,245,0.60);
}

.home-card-sub{
  margin: 10px 0 12px;
  color: rgba(245,245,245,0.72);
}

.home-card-link{
  display: inline-block;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.92);
  text-decoration: none;
  border-bottom: none;
}
.home-card-link:hover{
  border-color: rgba(255,255,255,0.20);
  background: rgba(255,255,255,0.06);
}

/* =========================================================
   Technology — Tabs + List
   ========================================================= */

.tech-panel{
  margin-top: 18px;
  padding: 18px 18px;
  border-radius: 22px;

  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
}

.tech-head{
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.tech-title{
  margin: 0;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
}

.tech-sub{
  margin: 6px 0 0;
  color: rgba(245,245,245,0.68);
  line-height: 1.7;
  max-width: 680px;
}

.tech-updated{
  font-size: 0.85rem;
  color: rgba(245,245,245,0.60);
  white-space: nowrap;
}

.tech-tabs{
  display: flex;
  gap: 10px;
  flex-wrap: wrap; /* ← D/E/Fが見えない問題を潰す */
  margin-top: 10px;
}

.tech-tab{
  display: inline-flex;
  gap: 8px;
  align-items: center;

  padding: 10px 12px;
  border-radius: 14px;

  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);

  color: rgba(245,245,245,0.86);
  cursor: pointer;
}

.tech-tab:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.12);
}

.tech-tab.active{
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.18);
}

.tech-tab-k{
  opacity: 0.75;
}

.tech-tab-t{
  letter-spacing: 0.02em;
}

.tech-list-wrap{
  margin-top: 12px;
}

.tech-list{
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 12px;
}

.tech-item{
  padding: 14px 14px;
  border-radius: 18px;

  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.07);
}

.tech-item-top{
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.tech-source{
  font-size: 0.85rem;
  color: rgba(245,245,245,0.72);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.tech-cat{
  font-size: 0.85rem;
  color: rgba(245,245,245,0.55);
  white-space: nowrap;
}

.tech-link{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;

  text-decoration: none;
  border-bottom: none;
  color: rgba(245,245,245,0.92);
}

.tech-title2{
  font-size: 1.02rem;
  line-height: 1.5;
}

.tech-arrow{
  color: rgba(245,245,245,0.55);
  flex: 0 0 auto;
}

.tech-summary{
  margin: 10px 0 0;
  color: rgba(245,245,245,0.70);
  line-height: 1.8;
}

.tech-empty{
  padding: 12px 2px;
  color: rgba(245,245,245,0.65);
}

/* mobile */
@media (max-width: 768px){
  .tech-updated{ white-space: normal; }
}

/* =========================
   Feed UI (HOME + Pages)
   ========================= */

.home-card-head{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:14px;
  margin-bottom:12px;
}

.home-card-meta{
  font-size:0.85rem;
  color: rgba(245,245,245,0.60);
  letter-spacing:0.03em;
}

.home-card-foot{
  margin-top: 12px;
}

.mini-link{
  color: rgba(245,245,245,0.80);
  text-decoration:none;
  border-bottom: 1px solid rgba(245,245,245,0.22);
}

.mini-link:hover{
  border-bottom-color: rgba(245,245,245,0.55);
}

/* HOMEカード内スクロール領域：カード幅は既存のまま、縦を固定してスクロール */
.feed-scroll{
  display:grid;
  gap:12px;
  max-height: 320px;
  overflow:auto;
  padding-right: 6px;
}

/* 専用ページはスクロール不要（普通に縦） */
.feed-list{
  margin-top: 16px;
  display:grid;
  gap:12px;
}

.feed-row{
  display:block;
  padding:14px 14px 12px;
  border-radius:18px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.08);
  text-decoration:none;
  border-bottom:none !important;
}

.feed-row:hover{
  background: rgba(0,0,0,0.14);
  border-color: rgba(255,255,255,0.12);
}

.feed-source{
  font-size:0.78rem;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color: rgba(245,245,245,0.60);
  margin-bottom:8px;
}

.feed-title{
  color: rgba(245,245,245,0.92);
  font-size:1.02rem;
  line-height:1.45;
  overflow-wrap:anywhere;
}

.feed-summary{
  margin-top:8px;
  color: rgba(245,245,245,0.70);
  line-height:1.75;
  overflow-wrap:anywhere;
}

.feed-empty{
  color: rgba(245,245,245,0.65);
  padding: 10px 2px;
}

.page-lead.dim{ color: rgba(245,245,245,0.55); }

/* Tabs */
.tabs{
  margin-top: 18px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.tab{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.88);
  cursor:pointer;
}

.tab:hover{
  border-color: rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
}

.tab.active{
  border-color: rgba(255,255,255,0.24);
  background: rgba(255,255,255,0.10);
}

/* =========================================================
   ArcheNova — Unified Readability Film (GLOBAL)
   目的：
   - 全ページで黒フィルム濃度を統一
   - 文字の上にフィルターが乗って暗くなる事故を防ぐ
   - ページ個別のfilm/overlayのバラつきを吸収
   ========================================================= */

/* 統一パラメータ（ここだけ触れば全ページが揃う） */
:root{
  --film: rgba(0,0,0,0.34);   /* ←統一した黒フィルム濃度（薄め） */
  --film-strong: rgba(0,0,0,0.44); /* 必要な場面用（メニュー等） */
}

/* 1) 全ページに “背景だけ” 黒フィルムを敷く（文字の上には乗らない） */
body{
  position: relative;
  isolation: isolate;  /* これ重要：z-indexの衝突を避ける */
}

/* 背景フィルム層 */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: 0;          /* 背景側 */
  background: var(--film);
  pointer-events: none;
}

/* 2) すべての本文をフィルムより前に出す（確実に文字を明るく） */
body > *{
  position: relative;
  z-index: 1;
}

/* 3) “文字が暗くなる” 典型事故を強制遮断
   - 親に opacity / filter をかけると子文字が暗くなる
   - それっぽい箇所はfilterを無効化
*/
.hero,
.page-standard,
.home-card,
.glass-block,
.x-card,
.tech-card,
.sci-card,
.menu-panel,
.menu-overlay{
  filter: none !important;
  opacity: 1 !important;
}

/* 4) 既存のページ別フィルム/after/beforeを “薄め統一” に寄せる
   - ここでバラつき吸収
   - 文字の上に乗る場合は z-index を下げる
*/
.hero::after{
  background: var(--film) !important;
}

/* ガラスブロックやカードに個別の黒背景が濃すぎる場合を統一 */
.home-card,
.glass-block,
.x-card{
  background: rgba(0,0,0,0.14) !important;  /* ←薄め */
  border-color: rgba(255,255,255,0.08) !important;
}

/* 5) メニューは “背景だけ” を強めに（ただし文字は前面）
   - overlayは少し強め
   - panelはガラス＋薄い黒
*/
.menu-overlay::before{
  background: var(--film-strong) !important;
}

/* menu-panel::before でぼかしを使う場合は “背景だけ” に固定 */
.menu-panel{
  position: relative;
}

/* もし menu-panel::before を使っているなら統一 */
.menu-panel::before{
  background: rgba(0,0,0,0.36) !important;
  border-color: rgba(255,255,255,0.10) !important;
}

/* 文字を確実に前面に */
.menu-panel *{
  position: relative;
  z-index: 2;
}

/* 6) リンク下線の影響で読みづらい場合（必要なら）
a{
  border-bottom-color: rgba(255,255,255,0.18);
}
a:hover{
  border-bottom-color: rgba(255,255,255,0.30);
}
*/

/* 7) モバイルでも同じ濃度で統一 */
@media (max-width: 768px){
  body::before{
    background: var(--film);
  }
}

/* =========================================================
   HOME Cards — Lift + Soft Black Blur + Gloss Interaction
   ※ 既存デザインを崩さず「読みやすさ」と「光沢」を足す
   ========================================================= */

/* HOMEカード：共通見た目（ガラス＋黒い内側フィルム） */
.hero-links a{
  /* layout */
  display: block;
  width: 100%;
  max-width: 720px;
  text-align: left;
  padding: 16px 18px;
  border-radius: 18px;

  /* glass base */
  background: rgba(0,0,0,0.16);
  border: 1px solid rgba(255,255,255,0.10);

  /* readability blur (背景だけを“柔らかく”する) */
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);

  /* lift */
  box-shadow:
    0 18px 55px rgba(0,0,0,0.42),
    inset 0 1px 0 rgba(255,255,255,0.05);

  /* typography */
  color: rgba(245,245,245,0.88);
  border-bottom: none !important; /* グローバルの下線ルールを無効 */

  position: relative;
  overflow: hidden;

  transition:
    transform 160ms ease,
    background 160ms ease,
    border-color 160ms ease,
    box-shadow 200ms ease,
    color 160ms ease;
}

/* カード内の「黒いぼかし（フィルム）」を薄く統一 */
.hero-links a::before{
  content:"";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.10);
  pointer-events: none;
}

/* 光沢（hover/タップで走るハイライト） */
.hero-links a::after{
  content:"";
  position: absolute;
  inset: -40% -80%;
  background: linear-gradient(
    115deg,
    transparent 40%,
    rgba(255,255,255,0.10) 50%,
    transparent 60%
  );
  transform: translateX(-35%) rotate(8deg);
  opacity: 0;
  pointer-events: none;
  transition: opacity 180ms ease, transform 420ms ease;
}

/* hover / focus：一段明るく＋少し浮く＋光沢 */
.hero-links a:hover,
.hero-links a:focus-visible{
  transform: translateY(-2px);
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.18);
  box-shadow:
    0 22px 70px rgba(0,0,0,0.48),
    inset 0 1px 0 rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.96);
}

.hero-links a:hover::after,
.hero-links a:focus-visible::after{
  opacity: 1;
  transform: translateX(25%) rotate(8deg);
}

/* タップ（モバイル）時も同様に “一瞬だけ光る” */
.hero-links a:active{
  transform: translateY(0px) scale(0.99);
  background: rgba(255,255,255,0.07);
  border-color: rgba(255,255,255,0.22);
}

/* 既存の縦並び設定と干渉しないように */
.hero-links{
  align-items: center;
}

/* モバイル：左右余白と読みやすさを少し調整 */
@media (max-width: 768px){
  .hero-links a{
    padding: 15px 16px;
    border-radius: 17px;
  }
}

/* =========================================================
   HOME — Section Ribs (Purpose Separators)
   ========================================================= */

.home-section{
  max-width: 720px;
  margin: 64px auto 24px;
  padding: 0 4px;
}

.home-section-label{
  display: block;
  font-size: 0.72rem;
  letter-spacing: 0.30em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.55);
  margin-bottom: 8px;
}

.home-section-purpose{
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.7;
  color: rgba(245,245,245,0.70);
  max-width: 620px;
}

/* セクション間の余白を明確に */
.home-section + .hero-links{
  margin-bottom: 10px;
}

/* モバイル最適化 */
@media (max-width: 768px){
  .home-section{
    margin: 52px auto 20px;
  }
  .home-section-purpose{
    font-size: 0.9rem;
  }
}

.x-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.x-item {
  margin-bottom: 12px;
}

.x-item a {
  display: block;
  color: rgba(245,245,245,0.9);
  text-decoration: none;
  line-height: 1.6;
}

.x-item a:hover {
  text-decoration: underline;
}

.x-date {
  font-size: 0.8rem;
  color: rgba(245,245,245,0.55);
}

/* ===== HOME Cards (Unified) ===== */
.home-card {
  max-width: 720px;
  width: 100%;
  margin: 0 auto 28px;

  padding: 22px 22px;
  border-radius: 22px;

  background: rgba(0,0,0,0.22);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 18px 60px rgba(0,0,0,0.45);

  transition: background 160ms ease, box-shadow 160ms ease;
}

.home-card:hover {
  background: rgba(0,0,0,0.30);
  box-shadow: 0 22px 80px rgba(0,0,0,0.55);
}

/* X card 内部 */
.x-post {
  display: grid;
  gap: 12px;
}

.x-post-item {
  color: rgba(245,245,245,0.86);
  line-height: 1.6;
  font-size: 0.95rem;
}

.x-post-time {
  font-size: 0.75rem;
  color: rgba(245,245,245,0.55);
}

/* ===== Latest Irreversible Move (X) ===== */

.x-latest-card {
  max-width: 720px;
  margin: 28px auto 0;
  padding: 18px 18px 16px;
  border-radius: 22px;

  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  border: 1px solid rgba(255,255,255,0.10);
}

.x-latest-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.x-latest-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.x-latest-open {
  color: rgba(245,245,245,0.75);
  text-decoration: none;
}

.x-latest-tags {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
}

.x-latest-tag {
  font-size: 0.75rem;
  padding: 4px 8px;
  border-radius: 10px;
  background: rgba(255,255,255,0.06);
  color: rgba(245,245,245,0.75);
}

.x-latest-text {
  color: rgba(245,245,245,0.85);
  line-height: 1.8;
  margin: 0 0 10px;
}

.x-latest-foot a {
  color: rgba(245,245,245,0.65);
  text-decoration: none;
}

/* =========================================================
   HOME Section Divider — Irreversible Signal
   ========================================================= */

.home-divider {
  max-width: 720px;
  margin: 56px auto 22px;   /* 上で十分に切る */
  position: relative;
}

.home-divider-line {
  height: 1px;
  background: linear-gradient(
    to right,
    rgba(255,255,255,0.00),
    rgba(255,255,255,0.18),
    rgba(255,255,255,0.00)
  );
}

.home-divider-label {
  margin-top: 14px;
  text-align: center;
}

.home-divider-eyebrow {
  display: block;
  font-size: 0.7rem;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.45);
}

.home-divider-title {
  display: block;
  margin-top: 4px;
  font-size: 0.95rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.82);
}

/* モバイル微調整 */
@media (max-width: 768px) {
  .home-divider {
    margin: 46px auto 18px;
    padding: 0 12px;
  }
}

/* =========================
   HOME Section Centering
   (Orientation / Boundary / Observation)
   ========================= */

.home-section {
  max-width: 760px;
  margin: 72px auto 48px auto; /* 上下に余白、左右中央 */
  text-align: center;
}

.home-section-label {
  display: block;
  font-size: 0.85rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(245, 245, 245, 0.55);
  margin-bottom: 14px;
}

.home-section-purpose {
  font-size: 1.05rem;
  line-height: 1.9;
  color: rgba(245, 245, 245, 0.78);
  margin: 0 auto;
}

/* =========================================================
   Irreversibility Gate
   ========================================================= */

.gate {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;

  /* 既存ヒーロー背景を流用（body背景を見せる） */
  position: relative;
}

/* 背景との統一フィルム（全ページ共通濃度） */
.gate::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.42); /* ←今サイトで使っている薄膜に合わせる */
  z-index: 0;
}

.gate-inner {
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: 720px;
  padding: 120px 32px;
  text-align: center;
}

/* ヘッダ */
.gate-label {
  display: block;
  font-size: 0.85rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: rgba(245, 245, 245, 0.65);
  margin-bottom: 14px;
}

.gate-title {
  font-size: 3rem;
  font-weight: 500;
  letter-spacing: -0.02em;
  margin-bottom: 10px;
}

.gate-sub {
  font-size: 1.05rem;
  color: rgba(245, 245, 245, 0.70);
  margin-bottom: 36px;
}

/* 注意書きブロック（既存 glass-block を流用） */
.gate-statement {
  margin: 0 auto 36px;
  max-width: 560px;
}

/* アクション */
.gate-actions {
  display: flex;
  justify-content: center;
  gap: 18px;
  margin-top: 26px;
  flex-wrap: wrap;
}

.gate-primary {
  padding: 14px 26px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.10);
  border: 1px solid rgba(255, 255, 255, 0.18);
  color: rgba(245, 245, 245, 0.95);
  text-decoration: none;
  font-size: 1rem;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  transition: background 120ms ease, border-color 120ms ease;
}

.gate-primary:hover {
  background: rgba(255, 255, 255, 0.16);
  border-color: rgba(255, 255, 255, 0.28);
}

.gate-secondary {
  padding: 14px 22px;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: rgba(245, 245, 245, 0.70);
  text-decoration: none;
  font-size: 0.95rem;
}

.gate-secondary:hover {
  color: rgba(245, 245, 245, 0.95);
}

/* フッタ導線 */
.gate-foot {
  margin-top: 28px;
}

/* モバイル */
@media (max-width: 768px) {
  .gate-inner {
    padding: 110px 20px;
  }

  .gate-title {
    font-size: 2.4rem;
  }
}

/* =========================
   Irreversibility Gate
   ========================= */
.gate{
  min-height: 100vh;
  padding: 120px 32px;
}

.gate-inner{
  max-width: 980px;
  margin: 0 auto;
}

.gate-head{
  margin-bottom: 18px;
}

.gate-title{
  font-size: 2.6rem;
  margin: 0 0 10px;
}

.gate-sub{
  color: rgba(245,245,245,0.72);
  margin: 0;
  line-height: 1.8;
}

.gate-block{
  padding: 18px;
}

.gate-field{
  margin-top: 14px;
}

.gate-label{
  display: block;
  font-size: 0.95rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.82);
  margin-bottom: 10px;
}

.gate-input{
  width: 100%;
  border-radius: 16px;
  padding: 14px 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.22);
  color: rgba(245,245,245,0.90);
  outline: none;
  resize: none;
}

.gate-input::placeholder{
  color: rgba(245,245,245,0.45);
}

.gate-meta{
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
  color: rgba(245,245,245,0.55);
  font-size: 0.9rem;
}

.gate-presets{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 12px;
}

.gate-preset{
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.88);
  border-radius: 999px;
  padding: 10px 12px;
  cursor: pointer;
}

.gate-preset:hover{
  background: rgba(255,255,255,0.07);
  border-color: rgba(255,255,255,0.16);
}

.gate-actions{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  margin-top: 14px;
}

.gate-msg{
  margin-top: 10px;
  color: rgba(255,255,255,0.72);
}

.gate-foot{
  margin-top: 16px;
  color: rgba(245,245,245,0.60);
  line-height: 1.8;
}

/* =========================
   Fragments list (HOME card)
   ========================= */
.frag-list{
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
}

.frag-item{
  display: grid;
  grid-template-columns: 10px 1fr;
  gap: 10px;
  align-items: start;
}

.frag-dot{
  width: 6px;
  height: 6px;
  border-radius: 999px;
  margin-top: 0.55rem;
  background: rgba(245,245,245,0.55);
}

.frag-text{
  color: rgba(245,245,245,0.82);
  line-height: 1.75;
}

@media (max-width: 768px){
  .gate{ padding: 110px 20px; }
}

/* =========================================================
   HOME — Recent Crossings (centered, same width as cards)
   ========================================================= */

/* 横はみ出しを強制的に止める（100vw系の副作用対策） */
html, body {
  overflow-x: hidden;
}

/* もしRECENT CROSSINGSが<section>や<div>で出ている場合に備えて広めに拾う */
.recent-crossings,
.crossings,
.home-crossings,
#recent-crossings {
  width: 100%;
  margin-top: 28px;
}

/* 中央寄せの“器” */
.recent-crossings-inner,
.crossings-inner,
.home-crossings-inner {
  max-width: 860px;          /* 既存mainと同じ幅感 */
  margin: 0 auto;
  padding: 0 32px;
}

/* モバイル */
@media (max-width: 768px) {
  .recent-crossings-inner,
  .crossings-inner,
  .home-crossings-inner {
    padding: 0 20px;
  }
}

/* 見出し */
.recent-crossings-title,
.crossings-title,
.home-crossings-title {
  margin: 0 0 12px;
  font-size: 0.95rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.78);
}

/* “カード”としてまとめたい場合（今のデザインに合わせたガラス） */
.recent-crossings-card,
.crossings-card,
.home-crossings-card {
  border-radius: 22px;
  padding: 16px 16px;
  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 18px 60px rgba(0,0,0,0.35);
}

/* リスト表示（はみ出し防止） */
.recent-crossings-list,
.crossings-list,
.home-crossings-list {
  list-style: none;
  padding: 0;
  margin: 12px 0 0;
  display: grid;
  gap: 10px;
}

/* 各行（名前/一言が長くても崩れない） */
.recent-crossings-item,
.crossings-item,
.home-crossings-item {
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(245,245,245,0.84);
  line-height: 1.6;

  /* 長文・長い英数字の折り返し */
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* =========================================================
   HOME — Recent Crossings (centered, same width as cards)
   ========================================================= */

/* 横はみ出しを強制的に止める（100vw系の副作用対策） */
html, body {
  overflow-x: hidden;
}

/* もしRECENT CROSSINGSが<section>や<div>で出ている場合に備えて広めに拾う */
.recent-crossings,
.crossings,
.home-crossings,
#recent-crossings {
  width: 100%;
  margin-top: 28px;
}

/* 中央寄せの“器” */
.recent-crossings-inner,
.crossings-inner,
.home-crossings-inner {
  max-width: 860px;          /* 既存mainと同じ幅感 */
  margin: 0 auto;
  padding: 0 32px;
}

/* モバイル */
@media (max-width: 768px) {
  .recent-crossings-inner,
  .crossings-inner,
  .home-crossings-inner {
    padding: 0 20px;
  }
}

/* 見出し */
.recent-crossings-title,
.crossings-title,
.home-crossings-title {
  margin: 0 0 12px;
  font-size: 0.95rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.78);
}

/* “カード”としてまとめたい場合（今のデザインに合わせたガラス） */
.recent-crossings-card,
.crossings-card,
.home-crossings-card {
  border-radius: 22px;
  padding: 16px 16px;
  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 18px 60px rgba(0,0,0,0.35);
}

/* リスト表示（はみ出し防止） */
.recent-crossings-list,
.crossings-list,
.home-crossings-list {
  list-style: none;
  padding: 0;
  margin: 12px 0 0;
  display: grid;
  gap: 10px;
}

/* 各行（名前/一言が長くても崩れない） */
.recent-crossings-item,
.crossings-item,
.home-crossings-item {
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(245,245,245,0.84);
  line-height: 1.6;

  /* 長文・長い英数字の折り返し */
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* =========================================================
   HOME — Recent Crossings (force centered width)
   ========================================================= */

.recent-crossings{
  width: 100%;
  margin: 0;
  padding: 0;
}

.recent-crossings-inner{
  max-width: 860px;            /* 他カードと同じ幅に寄せる */
  margin: 0 auto;
  padding: 0 32px;             /* 端の余白 */
}

@media (max-width: 768px){
  .recent-crossings-inner{
    padding: 0 20px;
  }
}

/* もし "横いっぱい" の原因が 100vw 系なら強制で潰す */
.recent-crossings,
.recent-crossings *{
  max-width: 100%;
}

.recent-crossings{
  width: 100% !important;
  max-width: 100% !important;
}

/* =========================================================
   HOME — Recent Crossings (hard clamp)
   ========================================================= */

.recent-crossings{
  width: 100%;
  margin-top: 24px;
}

/* 中央寄せの器 */
.recent-crossings-inner{
  width: 100%;
  max-width: 860px;
  margin: 0 auto;
  padding: 0 32px;
}

/* 全幅(100vw)を無効化する保険 */
.recent-crossings,
.recent-crossings *{
  max-width: 100%;
}

@media (max-width: 768px){
  .recent-crossings-inner{
    padding: 0 20px;
  }
}

/* =========================================================
   HOME — Recent Crossings (clamp to card width)
   ========================================================= */

.recent-crossings{
  width: 100%;
  margin-top: 26px;
}

.recent-crossings-inner{
  width: 100%;
  max-width: 860px;   /* ← 他のカードと同じ幅感に固定 */
  margin: 0 auto;
  padding: 0 32px;    /* ← 既存mainと同じ余白 */
}

@media (max-width: 768px){
  .recent-crossings-inner{
    padding: 0 20px;
  }
}

/* =========================================================
   HOME — Unified Sections + Cards (Safe Override)
   Paste at the END of styles/globals.css
   ========================================================= */

/* ---------- Section divider (ORIENTATION / OBSERVATION etc.) ---------- */
.home-section {
  max-width: 860px;
  margin: 46px auto 18px;
  padding: 0 32px;
  text-align: center;
}

.home-section-label {
  display: inline-block;
  font-size: 0.95rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245, 245, 245, 0.78);
  margin-bottom: 10px;
}

.home-section-purpose {
  margin: 0 auto;
  max-width: 760px;
  font-size: 1.05rem;
  line-height: 1.9;
  color: rgba(245, 245, 245, 0.68);
}

/* ---------- Card stack container (same width as others) ---------- */
.hero-links {
  max-width: 860px;
  margin: 18px auto 0;
  padding: 0 32px;

  display: flex;
  flex-direction: column;
  gap: 14px;
  align-items: center;
}

/* ---------- Unified card style (glass + soft shadow) ---------- */
.hero-card,
.hero-links a {
  width: 100%;
  max-width: 720px;

  display: block;
  padding: 16px 18px;
  border-radius: 18px;

  text-decoration: none;
  border-bottom: none !important;

  background: rgba(0, 0, 0, 0.18);
  border: 1px solid rgba(255, 255, 255, 0.10);

  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);

  box-shadow: 0 16px 44px rgba(0, 0, 0, 0.38);

  transition: transform 140ms ease, background 140ms ease, border-color 140ms ease;
  text-align: center;
}

.hero-card:hover,
.hero-links a:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.16);
}

.hero-card:active,
.hero-links a:active {
  transform: translateY(0px) scale(0.99);
}

/* Card inner typography */
.hero-card h3,
.hero-links a h3 {
  margin: 0 0 8px;
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(245, 245, 245, 0.92);
}

.hero-card p,
.hero-links a p {
  margin: 0;
  font-size: 1.02rem;
  line-height: 1.8;
  color: rgba(245, 245, 245, 0.68);
}

/* ---------- Mobile tuning ---------- */
@media (max-width: 768px) {
  .home-section {
    padding: 0 20px;
    margin: 40px auto 14px;
  }

  .home-section-purpose {
    font-size: 1.0rem;
  }

  .hero-links {
    padding: 0 20px;
    gap: 12px;
  }

  .hero-card,
  .hero-links a {
    max-width: 640px;
    padding: 15px 16px;
    border-radius: 17px;
  }
}

/* =========================================================
   Observatory (Quantum & Gravity) — Interaction UI
   Paste at the END of styles/globals.css
   ========================================================= */

.obs-tabs{
  display: flex;
  gap: 10px;
  justify-content: center;
  margin: 18px 0 12px;
  flex-wrap: wrap;
}

.obs-tab{
  padding: 10px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.14);
  color: rgba(245,245,245,0.86);
  cursor: pointer;
  letter-spacing: 0.06em;
}

.obs-tab.active{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.18);
}

.obs-card{
  margin-top: 12px;
}

.obs-meta{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.obs-kicker{
  font-size: 0.85rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.70);
}

.obs-progress{
  font-size: 0.9rem;
  color: rgba(245,245,245,0.62);
}

.obs-title{
  margin: 0 0 8px;
  font-size: 1.15rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.obs-options{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 12px;
}

.obs-option{
  text-align: left;
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.12);
  color: rgba(245,245,245,0.88);
  cursor: pointer;
  transition: transform 140ms ease, background 140ms ease, border-color 140ms ease;
}

.obs-option:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.16);
}

.obs-option.selected{
  background: rgba(255,255,255,0.07);
  border-color: rgba(255,255,255,0.20);
}

.obs-option-top{
  display:flex;
  align-items: baseline;
  gap: 10px;
  margin-bottom: 8px;
}

.obs-option-key{
  font-size: 0.95rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.76);
  min-width: 18px;
}

.obs-option-label{
  font-size: 1.0rem;
  color: rgba(245,245,245,0.90);
}

.obs-option-explain{
  font-size: 0.95rem;
  line-height: 1.7;
  color: rgba(245,245,245,0.68);
}

.obs-nav{
  display:flex;
  gap: 10px;
  margin-top: 14px;
  flex-wrap: wrap;
}

.obs-nav .inline-link{
  cursor: pointer;
}

.obs-nav .inline-link:disabled{
  opacity: 0.45;
  cursor: not-allowed;
}

.obs-result{
  margin-top: 18px;
}

.obs-result-row{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  margin: 10px 0 12px;
}

.obs-badge{
  padding: 8px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  color: rgba(245,245,245,0.92);
  letter-spacing: 0.12em;
}

.obs-done{
  color: rgba(245,245,245,0.62);
  font-size: 0.95rem;
}

.obs-formula{
  display:flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.12);
  margin-bottom: 12px;
}

.obs-formula-label{
  font-size: 0.85rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.62);
}

.obs-formula-eq{
  font-family: "Times New Roman", serif;
  color: rgba(245,245,245,0.84);
  letter-spacing: 0.02em;
}

@media (max-width: 768px){
  .obs-options{
    grid-template-columns: 1fr;
  }
}

/* =========================
   Observatory (MBTI-like)
   ========================= */
.obs-tabs{
  display:flex;
  gap:10px;
  margin: 18px 0;
}

.obs-tab{
  flex:1;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.12);
  color: rgba(245,245,245,0.86);
  cursor:pointer;
}

.obs-tab.active{
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.18);
}

.obs-meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  margin-bottom: 10px;
}

.obs-kicker{
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.72);
  font-size: 0.85rem;
}

.obs-progress{
  color: rgba(245,245,245,0.60);
  font-size: 0.9rem;
}

.obs-title{
  margin: 0 0 10px;
  font-size: 1.25rem;
}

.obs-options{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 12px;
}

.obs-option{
  text-align:left;
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.10);
  color: rgba(245,245,245,0.88);
  cursor:pointer;
}

.obs-option.selected{
  border-color: rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.06);
}

.obs-option-top{
  display:flex;
  gap:10px;
  align-items:center;
  margin-bottom: 8px;
}

.obs-option-key{
  display:inline-flex;
  width: 26px;
  height: 26px;
  align-items:center;
  justify-content:center;
  border-radius: 10px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(245,245,245,0.85);
  font-size: 0.85rem;
}

.obs-option-label{
  font-size: 0.98rem;
  color: rgba(245,245,245,0.92);
}

.obs-option-explain{
  color: rgba(245,245,245,0.62);
  line-height: 1.6;
  font-size: 0.92rem;
}

.obs-nav{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 14px;
}

.obs-result-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  margin-bottom: 12px;
}

.obs-badge{
  display:inline-block;
  padding: 8px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  color: rgba(245,245,245,0.92);
  letter-spacing: 0.08em;
}

.obs-done{
  color: rgba(245,245,245,0.60);
  font-size: 0.92rem;
}

.obs-formula{
  display:flex;
  justify-content:space-between;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.08);
  margin: 10px 0 14px;
}

.obs-formula-label{
  color: rgba(245,245,245,0.60);
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-size: 0.82rem;
}

.obs-formula-eq{
  color: rgba(245,245,245,0.88);
  font-family: "Times New Roman", serif;
}

.obs-sig{
  margin-top: 14px;
  padding: 12px 12px;
  border-radius: 18px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.08);
}

.obs-sig-head{
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 0.85rem;
  color: rgba(245,245,245,0.78);
  margin-bottom: 8px;
}

.obs-sig-list{
  margin: 0;
  padding-left: 18px;
  color: rgba(245,245,245,0.74);
  line-height: 1.7;
}

.obs-sig-foot{
  margin-top: 10px;
  color: rgba(245,245,245,0.64);
  line-height: 1.7;
  font-size: 0.95rem;
}

.obs-mini{
  color: rgba(245,245,245,0.78);
  letter-spacing: 0.06em;
}

@media (max-width: 768px){
  .obs-options{ grid-template-columns: 1fr; }
}

/* =========================================================
   HOME — Block Spacing System (ArcheNova)
   追記：HOMEの章ブロック間に呼吸を作る
   ========================================================= */

.home-main {
  /* 既存の全体余白と競合しないように軽く調整 */
  display: block;
}

/* HOMEの「章ラベル」ブロックは中央・狭め・余白を持つ */
.home-main .home-section {
  max-width: 760px;
  margin: 0 auto;
}

/* 章の上下：ここで“呼吸”を統一 */
.home-main .home-section {
  padding-top: 22px;
  padding-bottom: 18px;
}

/* 章ブロックと、その次に来るカード群の間隔（重要） */
.home-main .home-section + .hero-links,
.home-main .home-section + .plaza-feature,
.home-main .home-section + .home-divider,
.home-main .home-section + .recent-crossings {
  margin-top: 22px;
}

/* カード群どうしの間隔（Manifest～、Plaza～など） */
.home-main .hero-links + .plaza-feature,
.home-main .plaza-feature + .plaza-feature,
.home-main .plaza-feature + .hero-links,
.home-main .hero-links + .hero-links {
  margin-top: 18px;
}

/* “章” と “章” の間隔（ORIENTATION→BOUNDARY など） */
.home-main .hero-links + .home-section,
.home-main .plaza-feature + .home-section,
.home-main .home-divider + .home-section,
.home-main section.hero + .home-section {
  margin-top: 72px;
}

/* OBSERVATION以降のブロックも同じルールで整える */
.home-main .home-section + .plaza-feature {
  margin-top: 22px;
}

/* 下段（RECENT CROSSINGS）前も呼吸を確保 */
.home-main .home-divider + section.recent-crossings,
.home-main .plaza-feature + section.recent-crossings,
.home-main .hero-links + section.recent-crossings {
  margin-top: 64px;
}

/* モバイル：少し詰める（詰まりすぎない程度） */
@media (max-width: 768px) {
  .home-main .hero-links + .home-section,
  .home-main .plaza-feature + .home-section,
  .home-main .home-divider + .home-section,
  .home-main section.hero + .home-section {
    margin-top: 56px;
  }

  .home-main .home-divider + section.recent-crossings,
  .home-main .plaza-feature + section.recent-crossings,
  .home-main .hero-links + section.recent-crossings {
    margin-top: 52px;
  }
}

/* =========================================================
   ArcheNova Menu — Refined Items (drop-in override)
   paste at END of styles/globals.css
   ========================================================= */

.menu.is-open .menu-panel{
  /* panel自体の品位を少し上げる */
  background: rgba(0,0,0,0.38) !important;
  border: 1px solid rgba(255,255,255,0.10) !important;
  box-shadow:
    0 30px 110px rgba(0,0,0,0.62),
    inset 0 1px 0 rgba(255,255,255,0.06) !important;
}

/* タイトル周りの密度を整える */
.menu.is-open .menu-brand-title{
  letter-spacing: 0.18em !important;
  opacity: 0.94 !important;
}
.menu.is-open .menu-brand-sub{
  opacity: 0.72 !important;
}

/* ===== ナビ全体：縦リズムを美しく ===== */
.menu.is-open .menu-nav{
  gap: 10px !important;
  margin-top: 12px !important;
}

/* ===== 1項目：ガラス + 微細な境界 + 反射 ===== */
.menu.is-open .menu-item{
  position: relative !important;
  overflow: hidden !important;

  padding: 14px 14px !important;
  border-radius: 16px !important;

  background: rgba(255,255,255,0.045) !important;
  border: 1px solid rgba(255,255,255,0.075) !important;

  color: rgba(245,245,245,0.92) !important;
  border-bottom: none !important;

  transform: translateZ(0);
  transition:
    background 160ms ease,
    border-color 160ms ease,
    transform 160ms ease,
    box-shadow 160ms ease;
}

/* 上面の“薄い反射” */
.menu.is-open .menu-item::before{
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(120% 90% at 18% 0%,
      rgba(255,255,255,0.10),
      rgba(255,255,255,0.02) 38%,
      rgba(0,0,0,0) 70%);
  opacity: 0.55;
  pointer-events: none;
}

/* 下側の“静かな影”で浮かせる */
.menu.is-open .menu-item::after{
  content: "";
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: -10px;
  height: 22px;
  background: radial-gradient(60% 100% at 50% 0%,
    rgba(0,0,0,0.55),
    rgba(0,0,0,0));
  opacity: 0.22;
  pointer-events: none;
}

/* hover：一段明るく + ほんの少し持ち上げ */
.menu.is-open .menu-item:hover{
  background: rgba(255,255,255,0.072) !important;
  border-color: rgba(255,255,255,0.14) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.32) !important;
}

/* active：押し込み */
.menu.is-open .menu-item:active{
  transform: translateY(0px) scale(0.99) !important;
}

/* active（現在地）：薄い“内側の光” */
.menu.is-open .menu-item.active{
  background: rgba(255,255,255,0.085) !important;
  border-color: rgba(255,255,255,0.20) !important;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.04),
    0 14px 34px rgba(0,0,0,0.34) !important;
}

/* → / ↗ を控えめに整形 */
.menu.is-open .menu-arrow{
  color: rgba(245,245,245,0.55) !important;
  transition: transform 160ms ease, color 160ms ease;
}
.menu.is-open .menu-item:hover .menu-arrow{
  color: rgba(245,245,245,0.72) !important;
  transform: translateX(2px);
}

/* closeボタンも同じトーンへ */
.menu.is-open .menu-close{
  background: rgba(255,255,255,0.06) !important;
  border-color: rgba(255,255,255,0.12) !important;
}
.menu.is-open .menu-close:hover{
  background: rgba(255,255,255,0.09) !important;
  border-color: rgba(255,255,255,0.18) !important;
}

/* footの線を繊細に */
.menu.is-open .menu-foot{
  border-top-color: rgba(255,255,255,0.07) !important;
}
.menu.is-open .menu-foot-note{
  color: rgba(235,235,235,0.62) !important;
}

/* mobile：タップ領域を気持ち広く、影は控えめに */
@media (max-width: 768px){
  .menu.is-open .menu-item{
    padding: 15px 14px !important;
  }
  .menu.is-open .menu-item::after{
    opacity: 0.16;
  }
}

/* =========================================================
   ArcheNova Menu — COSMIC MODE (drop-in override)
   Paste at END of globals.css
   ========================================================= */

/* パネル：深い宇宙 + 星雲グロー（控えめ） */
.menu.is-open .menu-panel{
  background:
    radial-gradient(120% 90% at 18% 12%,
      rgba(130, 190, 255, 0.10),
      rgba(0,0,0,0.00) 48%),
    radial-gradient(90% 70% at 86% 18%,
      rgba(210, 160, 255, 0.08),
      rgba(0,0,0,0.00) 55%),
    rgba(0,0,0,0.42) !important;

  border: 1px solid rgba(210, 230, 255, 0.12) !important;

  box-shadow:
    0 34px 120px rgba(0,0,0,0.72),
    inset 0 1px 0 rgba(255,255,255,0.06),
    inset 0 0 0 1px rgba(120, 200, 255, 0.06) !important;
}

/* パネル内に “星屑ノイズ” を足す（軽量・画像不要） */
.menu.is-open .menu-panel::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity: 0.22;
  background:
    radial-gradient(1px 1px at 12% 22%, rgba(255,255,255,0.55), rgba(255,255,255,0)),
    radial-gradient(1px 1px at 28% 68%, rgba(255,255,255,0.40), rgba(255,255,255,0)),
    radial-gradient(1px 1px at 41% 35%, rgba(255,255,255,0.50), rgba(255,255,255,0)),
    radial-gradient(1px 1px at 57% 58%, rgba(255,255,255,0.38), rgba(255,255,255,0)),
    radial-gradient(1px 1px at 73% 28%, rgba(255,255,255,0.45), rgba(255,255,255,0)),
    radial-gradient(1px 1px at 84% 72%, rgba(255,255,255,0.36), rgba(255,255,255,0)),
    radial-gradient(1px 1px at 92% 42%, rgba(255,255,255,0.42), rgba(255,255,255,0));
  filter: blur(0.2px);
}

/* ブランド：少し冷たい発光 */
.menu.is-open .menu-brand-title{
  color: rgba(245,250,255,0.94) !important;
  text-shadow:
    0 0 18px rgba(120, 200, 255, 0.10),
    0 0 34px rgba(210, 160, 255, 0.08);
}
.menu.is-open .menu-brand-sub{
  color: rgba(220, 235, 255, 0.70) !important;
}

/* ナビ項目：冷たい縁発光 + 星雲反射 */
.menu.is-open .menu-item{
  background: rgba(255,255,255,0.040) !important;
  border: 1px solid rgba(210, 230, 255, 0.10) !important;
  box-shadow:
    inset 0 0 0 1px rgba(120, 200, 255, 0.04),
    0 10px 26px rgba(0,0,0,0.28) !important;
}

/* 反射を “星雲” に寄せる */
.menu.is-open .menu-item::before{
  background:
    radial-gradient(120% 120% at 18% 0%,
      rgba(120, 200, 255, 0.18),
      rgba(255,255,255,0.03) 42%,
      rgba(0,0,0,0) 72%),
    radial-gradient(90% 90% at 86% 10%,
      rgba(210, 160, 255, 0.14),
      rgba(0,0,0,0) 60%);
  opacity: 0.55;
}

/* hover：わずかな “オーロラ縁” + 近づく感じ */
.menu.is-open .menu-item:hover{
  background: rgba(255,255,255,0.060) !important;
  border-color: rgba(210, 230, 255, 0.18) !important;
  box-shadow:
    0 16px 34px rgba(0,0,0,0.34),
    inset 0 0 0 1px rgba(120, 200, 255, 0.08),
    inset 0 0 22px rgba(120, 200, 255, 0.06) !important;
  transform: translateY(-1px) !important;
}

/* 現在地：紫寄りの “静かな核” */
.menu.is-open .menu-item.active{
  background: rgba(255,255,255,0.075) !important;
  border-color: rgba(210, 190, 255, 0.22) !important;
  box-shadow:
    0 18px 40px rgba(0,0,0,0.36),
    inset 0 0 0 1px rgba(210, 160, 255, 0.10),
    inset 0 0 26px rgba(210, 160, 255, 0.07) !important;
}

/* 矢印：少し冷たく */
.menu.is-open .menu-arrow{
  color: rgba(205, 230, 255, 0.62) !important;
}
.menu.is-open .menu-item:hover .menu-arrow{
  color: rgba(235, 245, 255, 0.78) !important;
}

/* overlay：宇宙の“深さ”だけ増やす（重すぎない） */
.menu.is-open .menu-overlay::before{
  background: rgba(0,0,0,0.40) !important;
  backdrop-filter: blur(16px) !important;
  -webkit-backdrop-filter: blur(16px) !important;
}

/* closeボタンも同系統に */
.menu.is-open .menu-close{
  background: rgba(255,255,255,0.06) !important;
  border-color: rgba(210, 230, 255, 0.14) !important;
  box-shadow: inset 0 0 0 1px rgba(120, 200, 255, 0.05);
}
.menu.is-open .menu-close:hover{
  background: rgba(255,255,255,0.09) !important;
  border-color: rgba(210, 230, 255, 0.20) !important;
}

/* =========================================================
   ArcheNova Menu — DARK VOID MODE
   Cold Vacuum / No Color Glow
   Paste at END of globals.css
   ========================================================= */

/* ===== Overlay：深い虚空 ===== */
.menu.is-open .menu-overlay::before{
  background: rgba(0,0,0,0.55) !important;
  backdrop-filter: blur(18px) saturate(90%) !important;
  -webkit-backdrop-filter: blur(18px) saturate(90%) !important;
}

/* ===== Panel：完全に暗黒 ===== */
.menu.is-open .menu-panel{
  background: rgba(0,0,0,0.58) !important;

  border: 1px solid rgba(255,255,255,0.08) !important;

  box-shadow:
    0 40px 140px rgba(0,0,0,0.85),
    inset 0 1px 0 rgba(255,255,255,0.04),
    inset 0 0 0 1px rgba(255,255,255,0.03) !important;
}

/* ノイズ：色なし・極小（冷たい真空の粒子感） */
.menu.is-open .menu-panel::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:0.14;
  background:
    radial-gradient(1px 1px at 18% 22%, rgba(255,255,255,0.35), transparent),
    radial-gradient(1px 1px at 33% 68%, rgba(255,255,255,0.25), transparent),
    radial-gradient(1px 1px at 51% 37%, rgba(255,255,255,0.30), transparent),
    radial-gradient(1px 1px at 69% 54%, rgba(255,255,255,0.22), transparent),
    radial-gradient(1px 1px at 82% 28%, rgba(255,255,255,0.28), transparent),
    radial-gradient(1px 1px at 91% 71%, rgba(255,255,255,0.20), transparent);
  filter: blur(0.3px);
}

/* ===== Brand ===== */
.menu.is-open .menu-brand-title{
  color: rgba(245,245,245,0.92) !important;
  text-shadow: none !important;
}
.menu.is-open .menu-brand-sub{
  color: rgba(245,245,245,0.58) !important;
}

/* ===== Menu items ===== */
.menu.is-open .menu-item{
  background: rgba(255,255,255,0.035) !important;
  border: 1px solid rgba(255,255,255,0.07) !important;

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.02),
    0 12px 30px rgba(0,0,0,0.45) !important;

  transition:
    background 180ms ease,
    border-color 180ms ease,
    transform 180ms ease,
    box-shadow 180ms ease;
}

/* 反射：完全モノクロ */
.menu.is-open .menu-item::before{
  background:
    linear-gradient(
      to bottom,
      rgba(255,255,255,0.10),
      rgba(255,255,255,0.02) 45%,
      rgba(0,0,0,0) 80%
    );
  opacity: 0.45;
}

/* Hover：闇が“近づく”だけ（光らせない） */
.menu.is-open .menu-item:hover{
  background: rgba(255,255,255,0.055) !important;
  border-color: rgba(255,255,255,0.12) !important;

  box-shadow:
    0 18px 44px rgba(0,0,0,0.55),
    inset 0 0 0 1px rgba(255,255,255,0.04) !important;

  transform: translateY(-1px);
}

/* Active：核が静かに沈む */
.menu.is-open .menu-item.active{
  background: rgba(255,255,255,0.07) !important;
  border-color: rgba(255,255,255,0.16) !important;

  box-shadow:
    0 22px 52px rgba(0,0,0,0.60),
    inset 0 0 0 1px rgba(255,255,255,0.06) !important;
}

/* Arrow：冷却 */
.menu.is-open .menu-arrow{
  color: rgba(245,245,245,0.50) !important;
}
.menu.is-open .menu-item:hover .menu-arrow{
  color: rgba(245,245,245,0.72) !important;
}

/* ===== Close button ===== */
.menu.is-open .menu-close{
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
}
.menu.is-open .menu-close:hover{
  background: rgba(255,255,255,0.07) !important;
  border-color: rgba(255,255,255,0.14) !important;
}

/* =========================================================
   Menu — “Suction Vanish” close motion (Cold Vacuum)
   追加: .menu.is-closing 時だけ発動（既存を壊さない）
   ========================================================= */

.menu.is-closing .menu-panel{
  animation: anMenuSuction 260ms cubic-bezier(.20,.90,.10,1) forwards;
  transform-origin: 92% 8%;
}

.menu.is-closing .menu-overlay::before{
  animation: anOverlayFadeOut 260ms ease forwards;
}

@keyframes anMenuSuction{
  0%{
    transform: translateY(0) scale(1);
    opacity: 1;
    filter: blur(0px);
  }
  40%{
    transform: translateY(2px) scale(0.985) rotate(-0.2deg);
    opacity: 0.92;
    filter: blur(0.6px);
  }
  100%{
    transform: translateY(-10px) scale(0.92) rotate(-0.8deg);
    opacity: 0;
    filter: blur(2.4px);
  }
}

@keyframes anOverlayFadeOut{
  0%{ opacity: 1; }
  100%{ opacity: 0; }
}

/* 動きを抑制したい環境では停止 */
@media (prefers-reduced-motion: reduce){
  .menu.is-closing .menu-panel,
  .menu.is-closing .menu-overlay::before{
    animation: none !important;
  }
}

/* =========================================================
   Menu — “Pressure Open” + “Suction Close” (Cold Vacuum)
   開く: 圧（瞬間的な押し込み→解放）＋冷たいグロー
   閉じる: 吸い込み（前回）
   ========================================================= */

/* 既存 overlay / panel がある前提で、open時にだけ発動 */
.menu.is-open .menu-overlay::before{
  /* 冷たい真空：開く瞬間に暗さが“押し寄せる” */
  animation: anOverlayPressureIn 380ms cubic-bezier(.18,.95,.10,1) both;
}

.menu.is-open .menu-panel{
  /* 開く瞬間の圧：一度押し込まれてから解放される */
  animation: anMenuPressureIn 420ms cubic-bezier(.14,.95,.12,1) both;
  transform-origin: 92% 8%;
}

/* 開くと同時に“冷たい縁のグロー”が一瞬だけ立つ */
.menu.is-open .menu-panel::after{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: 22px;
  pointer-events:none;
  opacity: 0;
  animation: anVacuumEdge 520ms ease both;
  /* 黒い冷グロー（白じゃない） */
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.08),
    0 18px 60px rgba(0,0,0,0.55),
    0 0 28px rgba(0,0,0,0.70);
}

/* “圧”の本体：押し込まれる→戻る（音無し圧） */
@keyframes anMenuPressureIn{
  0%{
    opacity: 0;
    transform: translateY(-10px) scale(0.92);
    filter: blur(2.0px);
  }
  35%{
    opacity: 1;
    transform: translateY(2px) scale(1.02); /* ←圧のピーク */
    filter: blur(0.6px);
  }
  70%{
    transform: translateY(-1px) scale(0.995);
    filter: blur(0px);
  }
  100%{
    transform: translateY(0) scale(1);
    filter: blur(0px);
  }
}

/* 背景の“圧”：暗さが一瞬増してから落ち着く */
@keyframes anOverlayPressureIn{
  0%{ opacity: 0; }
  20%{ opacity: 1; }
  45%{ opacity: 1; }
  100%{ opacity: 1; }
}

/* 縁グロー：一瞬だけ立って消える */
@keyframes anVacuumEdge{
  0%{ opacity: 0; transform: scale(0.995); }
  25%{ opacity: 1; transform: scale(1.0); }
  100%{ opacity: 0; transform: scale(1.005); }
}

/* =========================
   Close (Suction) — 前回分
   ========================= */
.menu.is-closing .menu-panel{
  animation: anMenuSuction 260ms cubic-bezier(.20,.90,.10,1) forwards;
  transform-origin: 92% 8%;
}

.menu.is-closing .menu-overlay::before{
  animation: anOverlayFadeOut 260ms ease forwards;
}

@keyframes anMenuSuction{
  0%{
    transform: translateY(0) scale(1);
    opacity: 1;
    filter: blur(0px);
  }
  40%{
    transform: translateY(2px) scale(0.985) rotate(-0.2deg);
    opacity: 0.92;
    filter: blur(0.6px);
  }
  100%{
    transform: translateY(-10px) scale(0.92) rotate(-0.8deg);
    opacity: 0;
    filter: blur(2.4px);
  }
}

@keyframes anOverlayFadeOut{
  0%{ opacity: 1; }
  100%{ opacity: 0; }
}

/* 動きを抑制したい環境では停止 */
@media (prefers-reduced-motion: reduce){
  .menu.is-open .menu-panel,
  .menu.is-open .menu-overlay::before,
  .menu.is-open .menu-panel::after,
  .menu.is-closing .menu-panel,
  .menu.is-closing .menu-overlay::before{
    animation: none !important;
  }
}

/* =========================================================
   Space 3D — Cold Vacuum (Full 3D)
   ========================================================= */

.space3d-wrap{
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 18px 110px;
}

.space3d-head{
  text-align: center;
  margin-bottom: 18px;
}

.space3d-kicker{
  display: inline-block;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(245,245,245,0.72);
  font-size: 0.78rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

.space3d-title{
  margin: 14px 0 10px;
  font-size: 2.4rem;
  letter-spacing: -0.02em;
}

.space3d-lead{
  margin: 0 auto;
  max-width: 760px;
  color: rgba(245,245,245,0.70);
  line-height: 1.9;
}

.space3d-tabs{
  margin-top: 16px;
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.space3d-tab{
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.18);
  color: rgba(245,245,245,0.86);
  border-radius: 14px;
  padding: 10px 14px;
  cursor: pointer;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.space3d-tab.active{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.18);
}

.space3d-ghost{
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.14);
  color: rgba(245,245,245,0.72);
  border-radius: 14px;
  padding: 10px 14px;
  text-decoration: none;
}

.space3d-stage{
  margin-top: 18px;
  display: grid;
  grid-template-columns: 1.15fr 0.85fr;
  gap: 14px;

  border-radius: 24px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.16);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 30px 110px rgba(0,0,0,0.60);
  overflow: hidden;
}

.space3d-canvas{
  min-height: 520px;
  background: rgba(0,0,0,0.28);
}

.space3d-panel{
  padding: 14px;
}

.space3d-panel-block{
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
  padding: 14px;
  margin-bottom: 12px;
}

.space3d-label{
  font-size: 0.82rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.62);
  margin-bottom: 10px;
}

.space3d-row{
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 10px;
  margin-bottom: 8px;
}

.space3d-row-title{
  color: rgba(245,245,245,0.82);
  letter-spacing: 0.04em;
}

.space3d-row-value{
  color: rgba(245,245,245,0.70);
  letter-spacing: 0.10em;
}

.space3d-range{
  width: 100%;
  margin: 2px 0 8px;
}

.space3d-hint{
  color: rgba(245,245,245,0.60);
  line-height: 1.8;
}

.space3d-badge{
  display: inline-block;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.88);
  letter-spacing: 0.06em;
  margin-bottom: 12px;
}

.space3d-card{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.10);
  padding: 12px;
  margin-bottom: 10px;
}

.space3d-card-title{
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.62);
  margin-bottom: 8px;
}

.space3d-card-text{
  color: rgba(245,245,245,0.78);
  line-height: 1.9;
}

.space3d-note{
  margin-top: 10px;
  color: rgba(245,245,245,0.58);
  line-height: 1.8;
}

@media (max-width: 980px){
  .space3d-stage{
    grid-template-columns: 1fr;
  }
  .space3d-canvas{
    min-height: 420px;
  }
}

/* =========================================================
   Space3D (Cold Vacuum) — minimal, unified
   ========================================================= */
.space3d-frame{
  border-radius: 22px;
  overflow: hidden;
  background: rgba(0,0,0,0.18);
  border: 1px solid rgba(255,255,255,0.08);
}

.space3d-meta{
  margin-top: 14px;
}

.space3d-tags{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 10px;
}

.space3d-tag{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.82);
  font-size: 0.85rem;
  letter-spacing: 0.03em;
}

.space3d-links{
  margin-top: 12px;
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

/* =========================================================
   HOME — Book Mode Pager (Cold Vacuum / Elegant Drift)
   ========================================================= */

.cosmic-pager{
  width: 100%;
  min-height: 100svh;
}

/* root */
.hp-root{
  position: relative;
  width: 100%;
  min-height: 100svh;
  overflow: hidden; /* 縦長スクロールを止める（本にする） */
  background: #000;
}

/* cosmic background (軽量) */
.hp-cosmos{
  position: absolute;
  inset: -20%;
  pointer-events: none;
  opacity: 0.70;

  background:
    radial-gradient(1200px 700px at 20% 18%, rgba(255,255,255,0.035), transparent 60%),
    radial-gradient(900px 520px at 80% 75%, rgba(255,255,255,0.022), transparent 58%),
    radial-gradient(700px 420px at 55% 45%, rgba(180,200,255,0.020), transparent 62%),
    radial-gradient(1px 1px at 8% 18%, rgba(255,255,255,0.30), transparent 60%),
    radial-gradient(1px 1px at 22% 62%, rgba(255,255,255,0.24), transparent 60%),
    radial-gradient(1px 1px at 45% 30%, rgba(255,255,255,0.18), transparent 60%),
    radial-gradient(1px 1px at 63% 68%, rgba(255,255,255,0.16), transparent 60%),
    radial-gradient(1px 1px at 78% 22%, rgba(255,255,255,0.22), transparent 60%),
    radial-gradient(1px 1px at 90% 55%, rgba(255,255,255,0.14), transparent 60%);

  filter: blur(0.2px);
  animation: hpCosmicDrift 18s ease-in-out infinite;
}

@keyframes hpCosmicDrift{
  0%   { transform: translate3d(0px,0px,0px) scale(1); opacity: 0.62; }
  50%  { transform: translate3d(-18px,12px,0px) scale(1.02); opacity: 0.78; }
  100% { transform: translate3d(0px,0px,0px) scale(1); opacity: 0.62; }
}

/* stage */
.hp-stage{
  position: relative;
  width: 100%;
  height: 100svh;
  perspective: 1400px;
  transform-style: preserve-3d;
}

/* page layer */
.hp-page{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 92px 18px 92px;
  pointer-events: none;
}
.hp-page.is-active{ pointer-events: auto; }

/* sheet (glass / cold vacuum) */
.hp-sheet{
  position: relative;
  width: min(980px, calc(100vw - 28px));
  border-radius: 26px;
  overflow: hidden;

  background: rgba(0,0,0,0.20);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(12px) saturate(120%);
  -webkit-backdrop-filter: blur(12px) saturate(120%);
  box-shadow: 0 30px 110px rgba(0,0,0,0.62);

  transform-origin: right center;
  transform: rotateY(0deg);
}

/* content padding */
.hp-content{
  position: relative;
  z-index: 2;
  padding: 22px 18px;
}

/* gloss */
.hp-gloss{
  position: absolute;
  inset: -40%;
  z-index: 1;
  pointer-events: none;
  background: radial-gradient(
    circle at 20% 30%,
    rgba(255,255,255,0.12),
    rgba(255,255,255,0.05) 35%,
    rgba(0,0,0,0) 72%
  );
  transform: translateX(-16%) rotate(12deg);
  opacity: 0.30;
  transition: transform 900ms cubic-bezier(0.16,1,0.22,1), opacity 600ms ease;
}

/* page flip (pressure → open) */
.hp-page.is-next .hp-sheet{
  transform: rotateY(-78deg);
  opacity: 0;
  filter: blur(2px);
}
.hp-page.is-prev .hp-sheet{
  transform: rotateY(78deg);
  opacity: 0;
  filter: blur(2px);
}

.hp-page.is-active .hp-sheet{
  transform: rotateY(0deg);
  opacity: 1;
  filter: blur(0);
  transition:
    transform 860ms cubic-bezier(0.16, 1, 0.22, 1),
    opacity 520ms ease,
    filter 520ms ease;
}

.hp-page.dir-next.is-active .hp-gloss{ transform: translateX(0%) rotate(12deg); opacity: 0.42; }
.hp-page.dir-prev.is-active .hp-gloss{ transform: translateX(-6%) rotate(12deg); opacity: 0.38; }

/* small drift */
.hp-sheet{
  animation: hpSheetFloat 10.5s ease-in-out infinite;
}
@keyframes hpSheetFloat{
  0%   { transform: translate3d(0px,0px,0px) rotateY(0deg); }
  50%  { transform: translate3d(0px,-7px,0px) rotateY(0deg); }
  100% { transform: translate3d(0px,0px,0px) rotateY(0deg); }
}

/* indicator */
.hp-indicator{
  position: fixed;
  left: 16px;
  top: 16px;
  z-index: 70;

  display: inline-flex;
  align-items: center;
  gap: 10px;

  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.10);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-radius: 14px;
  padding: 10px 12px;
}
.hp-dot{
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: rgba(245,245,245,0.70);
  box-shadow: 0 0 18px rgba(255,255,255,0.12);
}
.hp-count{
  color: rgba(245,245,245,0.70);
  letter-spacing: 0.16em;
  text-transform: uppercase;
  font-size: 0.78rem;
}

/* dots bottom */
.hp-dots{
  position: fixed;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  z-index: 70;

  display: flex;
  gap: 10px;
  padding: 10px 12px;

  border-radius: 999px;
  background: rgba(0,0,0,0.20);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.hp-dotbtn{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.10);
  cursor: pointer;
}
.hp-dotbtn.active{
  background: rgba(255,255,255,0.40);
  border-color: rgba(255,255,255,0.40);
}

/* nav bottom-right */
.hp-nav{
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 70;
  display: flex;
  gap: 10px;
}
.hp-btn{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.22);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(245,245,245,0.86);
  cursor: pointer;
}
.hp-btn:disabled{ opacity: 0.35; cursor: default; }

/* mobile */
@media (max-width: 768px){
  .hp-page{ padding: 82px 14px 82px; }
  .hp-content{ padding: 18px 14px; }
}

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .hp-cosmos{ animation: none !important; }
  .hp-sheet{ animation: none !important; }
  .hp-page.is-next .hp-sheet,
  .hp-page.is-prev .hp-sheet,
  .hp-page.is-active .hp-sheet{
    transform: none !important;
    opacity: 1 !important;
    filter: none !important;
    transition: none !important;
  }
  .hp-gloss{ display:none; }
}

/* =========================================================
   ArcheNova HomePager (Book Mode) — FORCE (append at EOF)
   ========================================================= */

/* /home の <main class="cosmic-pager"> を “縦スクロール禁止” に固定 */
.cosmic-pager{
  height: 100svh !important;
  overflow: hidden !important;
}

/* HomePager shell */
.anp-shell{
  position: relative !important;
  width: 100% !important;
  height: 100svh !important;
  overflow: hidden !important;
  background: #000 !important;
}

/* cosmic drift background */
.anp-cosmos{
  content:"";
  position:absolute !important;
  inset:-20% !important;
  pointer-events:none !important;
  opacity:0.70 !important;
  background:
    radial-gradient(1200px 700px at 20% 18%, rgba(255,255,255,0.035), transparent 60%),
    radial-gradient(900px 520px at 80% 75%, rgba(255,255,255,0.022), transparent 58%),
    radial-gradient(700px 420px at 55% 45%, rgba(180,200,255,0.020), transparent 62%),
    radial-gradient(1px 1px at 8% 18%, rgba(255,255,255,0.30), transparent 60%),
    radial-gradient(1px 1px at 22% 62%, rgba(255,255,255,0.24), transparent 60%),
    radial-gradient(1px 1px at 45% 30%, rgba(255,255,255,0.18), transparent 60%),
    radial-gradient(1px 1px at 63% 68%, rgba(255,255,255,0.16), transparent 60%),
    radial-gradient(1px 1px at 78% 22%, rgba(255,255,255,0.22), transparent 60%),
    radial-gradient(1px 1px at 90% 55%, rgba(255,255,255,0.14), transparent 60%);
  filter: blur(0.2px) !important;
  animation: anp-drift 18s ease-in-out infinite !important;
}

@keyframes anp-drift{
  0%   { transform: translate3d(0px,0px,0px) scale(1); opacity: 0.62; }
  50%  { transform: translate3d(-18px,12px,0px) scale(1.02); opacity: 0.78; }
  100% { transform: translate3d(0px,0px,0px) scale(1); opacity: 0.62; }
}

/* horizontal scroller */
.anp-scroller{
  position: relative !important;
  z-index: 2 !important;

  display: flex !important;
  flex-direction: row !important;

  width: 100% !important;
  height: 100% !important;

  overflow-x: auto !important;
  overflow-y: hidden !important;

  scroll-snap-type: x mandatory !important;
  scroll-behavior: smooth !important;
  -webkit-overflow-scrolling: touch !important;

  scrollbar-width: none !important;
}
.anp-scroller::-webkit-scrollbar{ display: none !important; }

/* each page = viewport */
.anp-page{
  flex: 0 0 100% !important;
  width: 100% !important;
  height: 100% !important;

  scroll-snap-align: start !important;
  scroll-snap-stop: always !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  padding: 96px 18px !important;
  box-sizing: border-box !important;
}

/* sheet */
.anp-sheet{
  position: relative !important;
  width: min(980px, calc(100vw - 28px)) !important;
  border-radius: 26px !important;
  overflow: hidden !important;

  background: rgba(0,0,0,0.20) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;

  backdrop-filter: blur(12px) saturate(120%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(120%) !important;

  box-shadow: 0 30px 110px rgba(0,0,0,0.62) !important;

  animation: anp-float 10.5s ease-in-out infinite !important;
  transform: translate3d(0,0,0) !important;
}

@keyframes anp-float{
  0%   { transform: translate3d(0px,0px,0px); }
  50%  { transform: translate3d(0px,-8px,0px); }
  100% { transform: translate3d(0px,0px,0px); }
}

.anp-content{
  position: relative !important;
  z-index: 2 !important;
  padding: 22px 18px !important;
}

/* gloss */
.anp-gloss{
  position: absolute !important;
  inset: -40% !important;
  z-index: 1 !important;
  pointer-events: none !important;

  background: radial-gradient(
    circle at 20% 30%,
    rgba(255,255,255,0.12),
    rgba(255,255,255,0.05) 35%,
    rgba(0,0,0,0) 72%
  );
  transform: translateX(-16%) rotate(12deg) !important;
  opacity: 0.34 !important;
}

/* dots */
.anp-dots{
  position: fixed !important;
  left: 50% !important;
  bottom: 18px !important;
  transform: translateX(-50%) !important;
  z-index: 60 !important;

  display: flex !important;
  gap: 10px !important;
  padding: 10px 12px !important;

  border-radius: 999px !important;
  background: rgba(0,0,0,0.20) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
}
.anp-dot{
  width: 8px !important;
  height: 8px !important;
  border-radius: 999px !important;
  border: 1px solid rgba(255,255,255,0.22) !important;
  background: rgba(255,255,255,0.10) !important;
  cursor: pointer !important;
}
.anp-dot.active{
  background: rgba(255,255,255,0.45) !important;
  border-color: rgba(255,255,255,0.45) !important;
}

/* arrows */
.anp-nav{
  position: fixed !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 60 !important;

  width: 44px !important;
  height: 44px !important;
  border-radius: 14px !important;

  border: 1px solid rgba(255,255,255,0.14) !important;
  background: rgba(0,0,0,0.24) !important;

  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;

  color: rgba(245,245,245,0.90) !important;
  cursor: pointer !important;
}
.anp-prev{ left: 14px !important; }
.anp-next{ right: 14px !important; }
.anp-nav:disabled{ opacity: 0.35 !important; cursor: default !important; }

@media (max-width: 768px){
  .anp-page{ padding: 86px 14px !important; }
  .anp-nav{ display:none !important; } /* モバイルはスワイプが主役 */
  .anp-dots{ bottom: 14px !important; }
}

@media (prefers-reduced-motion: reduce){
  .anp-cosmos, .anp-sheet{ animation: none !important; }
}

/* =========================================================
   ArcheNova Pager (Book Mode) — Minimal & FORCE
   append at END of globals.css
   ========================================================= */

.anp-force{
  height: 100svh !important;
  overflow: hidden !important;
}

/* HomePager shell */
.anp-shell{
  position: relative !important;
  width: 100% !important;
  height: 100svh !important;
  overflow: hidden !important;
  background: #000 !important;
}

/* scroller */
.anp-scroller{
  position: relative !important;
  z-index: 2 !important;

  display: flex !important;
  flex-direction: row !important;

  width: 100% !important;
  height: 100% !important;

  overflow-x: auto !important;
  overflow-y: hidden !important;

  scroll-snap-type: x mandatory !important;
  scroll-behavior: smooth !important;
  -webkit-overflow-scrolling: touch !important;

  scrollbar-width: none !important;
}
.anp-scroller::-webkit-scrollbar{ display: none !important; }

/* each page */
.anp-page{
  flex: 0 0 100% !important;
  width: 100% !important;
  height: 100% !important;

  scroll-snap-align: start !important;
  scroll-snap-stop: always !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  padding: 96px 18px !important;
  box-sizing: border-box !important;
}

/* book sheet */
.anp-sheet{
  position: relative !important;
  width: min(980px, calc(100vw - 28px)) !important;
  border-radius: 26px !important;
  overflow: hidden !important;

  background: rgba(0,0,0,0.20) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;

  backdrop-filter: blur(12px) saturate(120%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(120%) !important;

  box-shadow: 0 30px 110px rgba(0,0,0,0.62) !important;

  animation: anp-float 10.5s ease-in-out infinite !important;
  transform: translate3d(0,0,0) !important;
}

@keyframes anp-float{
  0%   { transform: translate3d(0px,0px,0px); }
  50%  { transform: translate3d(0px,-8px,0px); }
  100% { transform: translate3d(0px,0px,0px); }
}

.anp-content{
  position: relative !important;
  z-index: 2 !important;
  padding: 22px 18px !important;
}

/* cosmic background (lightweight) */
.anp-cosmos{
  position:absolute !important;
  inset:-20% !important;
  pointer-events:none !important;
  opacity:0.70 !important;
  background:
    radial-gradient(1200px 700px at 20% 18%, rgba(255,255,255,0.035), transparent 60%),
    radial-gradient(900px 520px at 80% 75%, rgba(255,255,255,0.022), transparent 58%),
    radial-gradient(700px 420px at 55% 45%, rgba(180,200,255,0.020), transparent 62%),
    radial-gradient(1px 1px at 8% 18%, rgba(255,255,255,0.30), transparent 60%),
    radial-gradient(1px 1px at 22% 62%, rgba(255,255,255,0.24), transparent 60%),
    radial-gradient(1px 1px at 45% 30%, rgba(255,255,255,0.18), transparent 60%),
    radial-gradient(1px 1px at 63% 68%, rgba(255,255,255,0.16), transparent 60%),
    radial-gradient(1px 1px at 78% 22%, rgba(255,255,255,0.22), transparent 60%),
    radial-gradient(1px 1px at 90% 55%, rgba(255,255,255,0.14), transparent 60%);
  filter: blur(0.2px) !important;
  animation: anp-drift 18s ease-in-out infinite !important;
}

@keyframes anp-drift{
  0%   { transform: translate3d(0px,0px,0px) scale(1); opacity: 0.62; }
  50%  { transform: translate3d(-18px,12px,0px) scale(1.02); opacity: 0.78; }
  100% { transform: translate3d(0px,0px,0px) scale(1); opacity: 0.62; }
}

/* gloss */
.anp-gloss{
  position: absolute !important;
  inset: -40% !important;
  z-index: 1 !important;
  pointer-events: none !important;
  background: radial-gradient(
    circle at 20% 30%,
    rgba(255,255,255,0.12),
    rgba(255,255,255,0.05) 35%,
    rgba(0,0,0,0) 72%
  );
  transform: translateX(-16%) rotate(12deg) !important;
  opacity: 0.34 !important;
}

/* dots */
.anp-dots{
  position: fixed !important;
  left: 50% !important;
  bottom: 18px !important;
  transform: translateX(-50%) !important;
  z-index: 60 !important;

  display: flex !important;
  gap: 10px !important;
  padding: 10px 12px !important;

  border-radius: 999px !important;
  background: rgba(0,0,0,0.20) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
}
.anp-dot{
  width: 8px !important;
  height: 8px !important;
  border-radius: 999px !important;
  border: 1px solid rgba(255,255,255,0.22) !important;
  background: rgba(255,255,255,0.10) !important;
  cursor: pointer !important;
}
.anp-dot.active{
  background: rgba(255,255,255,0.45) !important;
  border-color: rgba(255,255,255,0.45) !important;
}

/* arrows */
.anp-nav{
  position: fixed !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 60 !important;

  width: 44px !important;
  height: 44px !important;
  border-radius: 14px !important;

  border: 1px solid rgba(255,255,255,0.14) !important;
  background: rgba(0,0,0,0.24) !important;

  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;

  color: rgba(245,245,245,0.90) !important;
  cursor: pointer !important;
}
.anp-prev{ left: 14px !important; }
.anp-next{ right: 14px !important; }
.anp-nav:disabled{ opacity: 0.35 !important; cursor: default !important; }

@media (max-width: 768px){
  .anp-page{ padding: 86px 14px !important; }
  .anp-nav{ display:none !important; }
  .anp-dots{ bottom: 14px !important; }
}

@media (prefers-reduced-motion: reduce){
  .anp-cosmos, .anp-sheet{ animation: none !important; }
}