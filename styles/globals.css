/* ArcheNova Global Style */

:root {
  --bg: #0b0b0c;
  --fg: #f5f5f5;
  --muted: #9aa0a6;
  --accent: #ffffff;
}

* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: -apple-system, BlinkMacSystemFont, "Inter",
               "Segoe UI", sans-serif;
  line-height: 1.6;
}

a {
  color: var(--fg);
  text-decoration: none;
  position: relative;
  display: inline-block;
  padding-bottom: 2px;
  outline: none;
}

/* 通常時の下線（薄い） */
a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  height: 1px;
  width: 100%;
  background: rgba(255, 255, 255, 0.28);
  transform: scaleX(0.55);
  transform-origin: left;
  transition: transform 220ms ease, background 220ms ease, opacity 220ms ease;
  opacity: 0.9;
}

/* hover で伸びる（確定に近づく） */
a:hover::after {
  transform: scaleX(1);
  background: rgba(255, 255, 255, 0.72);
  opacity: 1;
}

/* キーボード操作でも“確定感” */
a:focus-visible::after {
  transform: scaleX(1);
  background: rgba(255, 255, 255, 0.9);
  opacity: 1;
}

/* クリックした瞬間に「収束してロック」する */
a:active::after {
  transform: scaleX(1);
  background: rgba(255, 255, 255, 0.95);
  opacity: 1;
}

main {
  max-width: 860px;
  padding: 120px 32px;
  margin: 0 auto;
}

h1 {
  font-size: 3.2rem;
  font-weight: 500;
  letter-spacing: -0.02em;
  margin-bottom: 1.5rem;
}

p {
  font-size: 1.1rem;
  color: var(--muted);
  max-width: 720px;
}

nav {
  margin-top: 3rem;
  display: flex;
  gap: 1.5rem;
  font-size: 0.95rem;
}
/* =========================
   ArcheNova Hero Section
   ========================= */

.hero {
  position: relative;
  min-height: 100vh;
  background-image: url("/images/IMG_9379.jpeg"); /* ←ここ重要 */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  pointer-events: none; /* ★これを追加 */
}

.hero-content {
  position: relative;
  z-index: 1;
  max-width: 860px;
  margin: 0 auto;
  padding: 140px 32px;
}

.hero h1 {
  font-size: 3.6rem;
  font-weight: 500;
  margin-bottom: 1.5rem;
}

.hero p {
  font-size: 1.2rem;
  color: #cfcfcf;
  max-width: 720px;
}
/* =========================
   ArcheNova Formula Overlay
   ========================= */

.hero-formula {
  position: absolute;
  left: 50%;
  bottom: 28px;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.18);
  font-size: 0.95rem;
  letter-spacing: 0.08em;
  font-family: "Times New Roman", serif;
  z-index: 2;
  pointer-events: none;
}

@media (max-width: 768px) {
  .hero-formula {
    font-size: 0.85rem;
    bottom: 20px;
    right: 20px;
    left: auto;
    transform: none;
  }
}

/* =========================
   About Page
   ========================= */

.about {
  background: #0b0b0c;
  padding: 140px 32px;
}

.about-inner {
  max-width: 860px;
  margin: 0 auto;
}

.about h1 {
  font-size: 2.6rem;
  margin-bottom: 2.5rem;
}

.about p {
  font-size: 1.05rem;
  line-height: 1.9;
  color: #cfcfcf;
  max-width: 760px;
  margin-bottom: 1.6rem;
}
/* =========================
   Mobile Hero Image Override
   ========================= */
@media (max-width: 768px) {
  .hero {
    background-image: url("/images/IMG_9845.jpeg") !important;
    background-size: cover;
    background-position: center;
  }

  .hero::after {
    background: rgba(0, 0, 0, 0.6);
  }

  .hero-content {
    padding: 110px 20px;
  }
}
/* =========================
   Mobile Layout Balance (Global)
   ========================= */
@media (max-width: 768px) {
  /* 文章は左寄せが基本：可読性を上げる */
  main {
    padding: 72px 20px;
    text-align: left;
  }

  h1 {
    font-size: 2.2rem;
    line-height: 1.15;
    margin-bottom: 1rem;
  }

  p {
    font-size: 1.02rem;
    line-height: 1.85;
    max-width: 100%;
  }

  /* ナビ：横スクロールの1列にして崩れないように */
  nav {
    margin-top: 1.6rem;
    display: flex;
    gap: 1rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 6px;
  }

  nav a {
    border-bottom: 0;
    padding: 10px 12px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 999px;
    white-space: nowrap;
  }

  /* Heroだけは“象徴”として中央に置く */
  .hero-content {
    text-align: center;
    padding: 92px 18px 70px;
  }

  .hero h1 {
    font-size: 2.4rem;
  }

  .hero p {
    margin-left: auto;
    margin-right: auto;
  }

  /* 数式は中央下で“痕跡”として残す */
  .hero-formula {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    text-align: center;
  }
}
/* =========================
   Mobile Balance — Global (All Pages)
   ========================= */
@media (max-width: 768px) {
  /* 1) 全ページ：中央寄せを解除して読み物を左寄せへ */
  main {
    max-width: 100%;
    margin: 0;
    padding: 72px 20px;
    text-align: left;
  }

  h1 {
    font-size: 2.2rem;
    line-height: 1.15;
    margin: 0 0 1rem;
  }

  p {
    font-size: 1.02rem;
    line-height: 1.85;
    max-width: 100%;
    margin: 0 0 1.35rem;
  }

  /* 2) ナビ：スマホUIとして自然なピル型 + 横スクロール */
  nav {
    margin-top: 1.2rem;
    display: flex;
    gap: 0.75rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding: 0 0 8px;
  }

  nav a {
    border-bottom: 0;
    padding: 10px 12px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 999px;
    white-space: nowrap;
  }

  /* 3) Heroは“象徴”として中央に固定（他ページは左寄せのまま） */
  .hero-content {
    text-align: center;
    padding: 92px 18px 70px;
  }

  .hero h1 {
    font-size: 2.4rem;
    margin-bottom: 1rem;
  }

  .hero p {
    margin-left: auto;
    margin-right: auto;
  }

  /* 4) 数式：中央下で痕跡として整える */
  .hero-formula {
    left: 50%;
    right: auto;
    bottom: 18px;
    transform: translateX(-50%);
    text-align: center;
    font-size: 0.82rem;
    opacity: 0.22;
  }

  /* 5) About / Papers 等のセクション余白も統一 */
  .about {
    padding: 92px 20px;
  }

  .about-inner {
    max-width: 100%;
    margin: 0;
  }

  .about h1 {
    font-size: 2.1rem;
    margin-bottom: 1.6rem;
  }

  .about p {
    max-width: 100%;
  }

  /* 6) Archive (papers) などで “← Back” が中央に寄らないように */
  a {
    word-break: break-word;
  }
}
/* =========================
   Header + Hamburger Menu
   ========================= */

.site-header {
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 50;
}

.menu-button {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;
}

.menu-icon {
  display: inline-flex;
  flex-direction: column;
  gap: 5px;
  align-items: center;
  justify-content: center;
}

.menu-icon span {
  display: block;
  width: 18px;
  height: 1px;
  background: rgba(255, 255, 255, 0.85);
}

.menu-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.62);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 60;
  display: flex;
  justify-content: flex-end;
}

.menu-panel {
  width: min(360px, 88vw);
  height: 100%;
  background: rgba(10, 10, 12, 0.92);
  border-left: 1px solid rgba(255, 255, 255, 0.12);
  padding: 18px 18px 24px;
}

.menu-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 18px;
}

.menu-title {
  font-size: 1rem;
  letter-spacing: 0.08em;
  color: rgba(255, 255, 255, 0.9);
}

.menu-close {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.04);
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  font-size: 1.4rem;
  line-height: 1;
}

.menu-nav {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 8px;
}

.menu-nav a {
  border-bottom: 0;
  padding: 14px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.92);
}

.menu-nav a:hover {
  border-color: rgba(255, 255, 255, 0.25);
}

.menu-footer {
  margin-top: 18px;
  color: rgba(255, 255, 255, 0.45);
  font-size: 0.9rem;
  line-height: 1.6;
}

/* スマホは少し内側に */
@media (max-width: 768px) {
  .site-header {
    top: 14px;
    right: 14px;
  }
}
/* =========================
   HOME — Scrollable Hero
   ========================= */

.hero-scroll {
  min-height: 100vh;
  padding-bottom: 120px;
}

/* タイトル */
.hero-title {
  font-size: 3.2rem;
  margin-bottom: 1.2rem;
}

/* 一行ステートメント（最重要） */
.hero-statement {
  font-size: 1.35rem;
  letter-spacing: 0.04em;
  color: rgba(255, 255, 255, 0.9);
  max-width: 720px;
  margin-bottom: 2rem;
}

/* 補足定義 */
.hero-definition {
  font-size: 1.05rem;
  line-height: 1.8;
  color: rgba(255, 255, 255, 0.65);
  max-width: 720px;
}

/* 数式ブロック */
.hero-symbol {
  margin-top: 96px;
  text-align: center;
}

.hero-formula {
  font-family: "Times New Roman", serif;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  color: rgba(255, 255, 255, 0.25);
  margin-bottom: 0.75rem;
}

.hero-formula-note {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.45);
}

/* 下層導線 */
.hero-links {
  margin-top: 96px;
  display: flex;
  gap: 1.5rem;
  position: relative;
  z-index: 2;
}

.hero-links a {
  border-bottom: 1px solid rgba(255, 255, 255, 0.35);
  padding-bottom: 2px;
}

/* スマホ最適化 */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2.4rem;
  }

  .hero-statement {
    font-size: 1.1rem;
  }

  .hero-symbol {
    margin-top: 72px;
  }

  .hero-links {
    margin-top: 72px;
  }
}
/* =========================
   Manifesto (Refuse / Fix)
   ========================= */
.manifesto {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.manifesto-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.manifesto-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 820px;
}

.mf-grid {
  margin-top: 64px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.mf-card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 10px;
}

.mf-kicker {
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.mf-card h2 {
  font-size: 1.05rem;
  letter-spacing: 0.06em;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.92);
}

.mf-card ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.mf-card li {
  padding: 12px 12px;
  margin-bottom: 10px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 14px;
  color: rgba(255, 255, 255, 0.78);
  line-height: 1.7;
}

.mf-card li strong {
  color: rgba(255, 255, 255, 0.92);
}

.mf-position {
  margin-top: 64px;
}

.mf-position h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.mf-position p {
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.9;
  max-width: 820px;
  margin-bottom: 1rem;
}

@media (max-width: 768px) {
  .manifesto {
    padding: 92px 20px;
  }
  .manifesto-head h1 {
    font-size: 2.2rem;
  }
  .mf-grid {
    grid-template-columns: 1fr;
  }
}
/* =========================
   HOME Gate Links (Manifesto / Framework)
   ========================= */

.hero-links {
  margin-top: 96px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); /* ★固定列をやめる */
  gap: 14px;
  position: relative;
  z-index: 2;
}

/* “入口”カード */
.hero-links a {
  border-bottom: 0;
  padding: 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(255, 255, 255, 0.92);
  display: block;
  transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
}

/* 入口に触れた時の“わずかな重力” */
.hero-links a:hover {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.28);
  background: rgba(0, 0, 0, 0.48);
}

/* クリック時 */
.hero-links a:active {
  transform: translateY(0px);
}

/* スマホ：縦並びで“二つの門”にする */
@media (max-width: 768px) {
  .hero-links {
    grid-template-columns: 1fr;
    gap: 12px;
    margin-top: 72px;
  }

  .hero-links a {
    padding: 18px 16px;
  }
}
/* =========================
   Framework (Diagram-first)
   ========================= */
.framework {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.fw-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.fw-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 820px;
}

/* Diagram */
.fw-diagram {
  margin-top: 64px;
  border-radius: 22px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 22px;
}

.fw-grid {
  display: grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  gap: 12px;
  align-items: center;
}

.fw-node {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  padding: 16px 16px 14px;
  background: rgba(255, 255, 255, 0.02);
}

.fw-label {
  font-size: 0.78rem;
  letter-spacing: 0.14em;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.fw-title {
  font-size: 1.05rem;
  color: rgba(255, 255, 255, 0.92);
  margin-bottom: 8px;
}

.fw-mini {
  font-size: 0.95rem;
  line-height: 1.7;
  color: rgba(255, 255, 255, 0.65);
}

.fw-arrow {
  font-size: 1.6rem;
  color: rgba(255, 255, 255, 0.25);
  text-align: center;
}

.fw-footnote {
  margin-top: 14px;
  color: rgba(255, 255, 255, 0.48);
  font-size: 0.95rem;
  line-height: 1.7;
  text-align: center;
}

/* Rules (text secondary) */
.fw-rules {
  margin-top: 64px;
}

.fw-rules h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.fw-rules ol {
  margin: 0;
  padding-left: 1.2rem;
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.9;
  max-width: 820px;
}

.fw-rules li {
  margin-bottom: 0.9rem;
}

@media (max-width: 768px) {
  .framework {
    padding: 92px 20px;
  }
  .fw-head h1 {
    font-size: 2.2rem;
  }
  .fw-grid {
    grid-template-columns: 1fr;
  }
  .fw-arrow {
    display: none;
  }
  .fw-footnote {
    text-align: left;
  }
}
/* =========================
   HOME Gate: 3 columns on desktop
   ========================= */
.hero-links {
  grid-template-columns: 1fr 1fr 1fr;
}

@media (max-width: 768px) {
  .hero-links {
    grid-template-columns: 1fr;
  }
}

/* =========================
   Domains
   ========================= */
.domains {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.domains-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.domains-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 860px;
}

.domains-grid {
  margin-top: 56px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.domain-card {
  border-bottom: 0;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 16px;
  display: block;
  transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
}

.domain-card:hover {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.25);
  background: rgba(0, 0, 0, 0.46);
}

.domain-title {
  color: rgba(255, 255, 255, 0.92);
  font-size: 1.05rem;
  letter-spacing: 0.04em;
  margin-bottom: 10px;
}

.domain-def {
  color: rgba(255, 255, 255, 0.66);
  line-height: 1.8;
  margin-bottom: 12px;
}

.domain-rep {
  color: rgba(255, 255, 255, 0.45);
  font-size: 0.95rem;
  line-height: 1.7;
}

@media (max-width: 768px) {
  .domains {
    padding: 92px 20px;
  }
  .domains-head h1 {
    font-size: 2.2rem;
  }
  .domains-grid {
    grid-template-columns: 1fr;
  }
}

/* =========================
   Domain detail page
   ========================= */
.domain {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.domain-top {
  margin-bottom: 18px;
}

.domain-back {
  border-bottom: 0;
  color: rgba(255, 255, 255, 0.65);
}

.domain-back:hover {
  color: rgba(255, 255, 255, 0.9);
}

.domain-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.domain-def2 {
  color: rgba(255, 255, 255, 0.68);
  line-height: 1.9;
  max-width: 860px;
}

.domain-block {
  margin-top: 56px;
}

.domain-block h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.domain-list {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.domain-item {
  padding: 14px 14px;
  margin-bottom: 10px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.02);
}

.domain-item-title {
  color: rgba(255, 255, 255, 0.92);
  margin-bottom: 6px;
}

.domain-item-note {
  color: rgba(255, 255, 255, 0.62);
  line-height: 1.7;
}

.domain-note {
  color: rgba(255, 255, 255, 0.65);
  line-height: 1.9;
  max-width: 860px;
}

@media (max-width: 768px) {
  .domain {
    padding: 92px 20px;
  }
  .domain-head h1 {
    font-size: 2.2rem;
  }
}
/* =========================
   Research / Papers
   ========================= */
.rp {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.rp-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.rp-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 880px;
}

.rp-section {
  margin-top: 64px;
}

.rp-h2 {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.rp-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
  gap: 14px;
}

.rp-card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 16px;
}

.rp-top {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
}

.rp-badge {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: rgba(255, 255, 255, 0.75);
}

.rp-domain {
  font-size: 0.92rem;
  color: rgba(255, 255, 255, 0.55);
}

.rp-title {
  font-size: 1.15rem;
  color: rgba(255, 255, 255, 0.95);
  line-height: 1.5;
  margin: 0 0 14px;
}

.rp-summary {
  border-top: 1px solid rgba(255, 255, 255, 0.10);
  padding-top: 14px;
}

.rp-row {
  display: grid;
  grid-template-columns: 160px 1fr;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.rp-row:last-child {
  border-bottom: 0;
}

.rp-k {
  font-size: 0.82rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
}

.rp-v {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.75;
}

.rp-links {
  margin-top: 14px;
  display: flex;
  gap: 14px;
}

.rp-links a {
  border-bottom: 1px solid rgba(255, 255, 255, 0.35);
  padding-bottom: 2px;
}

.rp-note {
  margin-top: 14px;
  color: rgba(255, 255, 255, 0.5);
  line-height: 1.8;
}

@media (max-width: 768px) {
  .rp {
    padding: 92px 20px;
  }
  .rp-head h1 {
    font-size: 2.2rem;
  }
  .rp-row {
    grid-template-columns: 1fr;
  }
}
/* =========================
   Research / Papers typography fix (Readable)
   ========================= */

/* カード全体：自然な改行を基本に */
.rp-card {
  overflow: hidden;
}

/* タイトル・本文は単語単位で改行 */
.rp-title,
.rp-v,
.rp-note,
.rp-domain {
  word-break: normal;        /* 単語は壊さない */
  overflow-wrap: break-word; /* はみ出す時だけ分割 */
  hyphens: auto;             /* 英語の自然なハイフネーション */
  line-height: 1.75;
}

/* 本文の読みやすさを強化 */
.rp-v {
  max-width: 100%;
  font-size: 0.95rem;
}

/* 左ラベル（Question 等）は短く固定 */
.rp-k {
  white-space: nowrap;
  font-size: 0.78rem;
  letter-spacing: 0.12em;
}

/* Gridの右側が潰れないように */
@media (min-width: 769px) {
  .rp-row {
    grid-template-columns: 180px minmax(0, 1fr);
  }
}

/* リンク・codeだけは安全策 */
.rp-links a,
.rp-note code {
  overflow-wrap: break-word;
  word-break: break-word;
}
/* =========================
   Research / Papers — overlap fix (safe)
   ========================= */

.rp .rp-card,
.rp .rp-card * {
  line-height: 1.75 !important;   /* 重なりの主因を止める */
  white-space: normal !important; /* 変な nowrap を無効化 */
  letter-spacing: normal !important;
  hyphens: none !important;       /* 不自然な改行/重なり防止 */
}

.rp .rp-title {
  line-height: 1.45 !important;   /* タイトルだけ少し締める */
}

.rp .rp-summary {
  margin-top: 12px;               /* 余白を確保して重なりを避ける */
}

.rp .rp-row {
  padding: 10px 0;                /* 行間を確保 */
}

.rp .rp-k,
.rp .rp-v {
  display: block;                 /* 行内崩れによる重なり回避 */
}

/* 右側カラムが潰れて文字がめり込むのを防ぐ（gridの安全策） */
@media (min-width: 769px) {
  .rp .rp-row {
    grid-template-columns: 180px minmax(0, 1fr);
  }
}
/* =========================
   Projects
   ========================= */
.projects {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.projects-head h1 {
  font-size: 2.8rem;
  margin: 0 0 1.2rem;
}

.projects-lead {
  color: rgba(255, 255, 255, 0.68);
  font-size: 1.05rem;
  line-height: 1.9;
  max-width: 880px;
}

.pj-grid {
  margin-top: 64px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 14px;
}

.pj-card {
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  padding: 18px 18px 16px;
}

.pj-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.pj-id {
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.65);
}

.pj-badge {
  font-size: 0.78rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: rgba(255, 255, 255, 0.78);
}

/* フェーズごとの微差（色指定は避けつつ濃淡で区別） */
.pj-concept { background: rgba(255, 255, 255, 0.03); }
.pj-prototype { background: rgba(255, 255, 255, 0.05); }
.pj-deployment { background: rgba(255, 255, 255, 0.07); }

.pj-title {
  font-size: 1.15rem;
  line-height: 1.5;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.95);
}

.pj-block {
  margin-top: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.10);
  padding-top: 14px;
}

.pj-k {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.pj-v {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.8;
  overflow-wrap: break-word;
}

.pj-scale {
  display: grid;
  gap: 10px;
}

.pj-scale-row {
  display: grid;
  grid-template-columns: 120px minmax(0, 1fr);
  gap: 12px;
}

.pj-skey {
  color: rgba(255, 255, 255, 0.55);
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-size: 0.78rem;
}

.pj-sval {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.7;
  overflow-wrap: break-word;
}

@media (max-width: 768px) {
  .projects {
    padding: 92px 20px;
  }
  .projects-head h1 {
    font-size: 2.2rem;
  }
  .pj-scale-row {
    grid-template-columns: 1fr;
  }
}
/* =========================
   Projects detail page
   ========================= */
.project {
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.project-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 18px;
}

.project-back {
  border-bottom: 0;
  color: rgba(255, 255, 255, 0.65);
}

.project-back:hover {
  color: rgba(255, 255, 255, 0.9);
}

.project-head .project-id {
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.65);
  margin-bottom: 10px;
}

.project-head h1 {
  font-size: 2.6rem;
  margin: 0;
  line-height: 1.2;
}

.project-block {
  margin-top: 56px;
}

.project-block h2 {
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 14px;
  color: rgba(255, 255, 255, 0.9);
}

.project-text {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.9;
  max-width: 880px;
}

.project-scale {
  display: grid;
  gap: 10px;
  max-width: 880px;
}

.project-scale-row {
  display: grid;
  grid-template-columns: 140px minmax(0, 1fr);
  gap: 12px;
}

.project-skey {
  color: rgba(255, 255, 255, 0.55);
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-size: 0.78rem;
}

.project-sval {
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.8;
  overflow-wrap: break-word;
}

.project-sub {
  margin-top: 22px;
}

.project-sub h3 {
  margin: 0 0 10px;
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.85);
}

.project-list {
  margin: 0;
  padding-left: 18px;
  color: rgba(255, 255, 255, 0.72);
  line-height: 1.9;
}

.project-gates {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 14px;
  margin-top: 10px;
}

.project-gate {
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  background: rgba(255, 255, 255, 0.02);
  padding: 14px 14px 12px;
}

.project-gate-title {
  font-size: 0.82rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.65);
  margin-bottom: 10px;
}

.pj-open {
  margin-top: 14px;
  color: rgba(255, 255, 255, 0.55);
  font-size: 0.95rem;
}

@media (max-width: 768px) {
  .project {
    padding: 92px 20px;
  }
  .project-head h1 {
    font-size: 2.1rem;
    line-height: 1.25;
  }
  .project-scale-row {
    grid-template-columns: 1fr;
  }
}
/* =========================
   Phase timeline (Irreversibility Progression)
   ========================= */

.phase {
  margin-top: 44px;
  padding: 18px 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.28);
}

.phase-title {
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.9);
}

.phase-track {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 12px;
}

.phase-step {
  display: grid;
  grid-template-columns: 42px minmax(0, 1fr);
  gap: 14px;
  align-items: start;
  position: relative;
}

/* 縦ライン（時間の進行） */
.phase-step::before {
  content: "";
  position: absolute;
  left: 20px;
  top: 42px;
  bottom: -12px;
  width: 1px;
  background: rgba(255, 255, 255, 0.14);
}
.phase-step:last-child::before {
  display: none;
}

.phase-node {
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.03);
}

.phase-index {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.65);
  letter-spacing: 0.08em;
}

.phase-name {
  font-size: 0.95rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.85);
  margin-bottom: 6px;
}

.phase-meaning {
  color: rgba(255, 255, 255, 0.68);
  line-height: 1.8;
  overflow-wrap: break-word;
}

/* 状態表現（色ではなく濃淡で差をつける） */
.phase-step.is-done .phase-node {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.22);
}
.phase-step.is-done .phase-name {
  color: rgba(255, 255, 255, 0.92);
}

.phase-step.is-active .phase-node {
  background: rgba(255, 255, 255, 0.14);
  border-color: rgba(255, 255, 255, 0.30);
}
.phase-step.is-active .phase-index {
  color: rgba(255, 255, 255, 0.95);
}
.phase-step.is-active .phase-meaning {
  color: rgba(255, 255, 255, 0.78);
}

.phase-note {
  margin-top: 12px;
  color: rgba(255, 255, 255, 0.5);
  line-height: 1.8;
}

/* Mobile: 余白だけ最適化 */
@media (max-width: 768px) {
  .phase {
    padding: 16px 14px 14px;
  }
}
/* Phase gates (inside timeline) */
.phase-gates {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.10);
}

.phase-gates-title {
  font-size: 0.78rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 8px;
}

.phase-gates-list {
  margin: 0;
  padding-left: 18px;
  color: rgba(255, 255, 255, 0.70);
  line-height: 1.8;
}

.phase-gates-more {
  margin-top: 8px;
  color: rgba(255, 255, 255, 0.50);
  font-size: 0.95rem;
}
@media (max-width: 768px) {
  .phase-gates {
    margin-top: 8px;
    padding-top: 8px;
  }
}
/* =========================
   Lock Meter (Irreversibility intensity)
   ========================= */
.lock {
  margin-top: 48px;
  padding: 18px 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.28);
}

.lock-title {
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin: 0 0 14px;
  color: rgba(255, 255, 255, 0.9);
}

.lock-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 14px;
}

.lock-item {
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  background: rgba(255, 255, 255, 0.02);
  padding: 14px 14px 12px;
}

.lock-k {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.lock-meter {
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.04);
  overflow: hidden;
}

.lock-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.45); /* 色指定は避け、白の濃淡 */
  border-radius: 999px;
}

.lock-v {
  margin-top: 10px;
  color: rgba(255, 255, 255, 0.70);
  line-height: 1.7;
  overflow-wrap: break-word;
}

.lock-note {
  margin-top: 12px;
  color: rgba(255, 255, 255, 0.5);
  line-height: 1.8;
}

@media (max-width: 768px) {
  .lock {
    padding: 16px 14px 14px;
  }
}
/* =========================
   Projects list — Mini Lock Meter
   ========================= */
.pj-mini {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.10);
}

.pj-mini-k {
  font-size: 0.76rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.55);
  margin-bottom: 10px;
}

.pj-mini-meter {
  height: 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.04);
  overflow: hidden;
}

.pj-mini-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.42);
  border-radius: 999px;
}

.pj-mini-note {
  margin-top: 8px;
  color: rgba(255, 255, 255, 0.55);
  font-size: 0.95rem;
}
/* =========================
   Projects list — Lock chip (Lx/5)
   ========================= */
.pj-lockchip {
  margin-left: 10px;
  font-size: 0.72rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.03);
  color: rgba(255, 255, 255, 0.65);
}
@media (max-width: 768px) {
  .pj-lockchip {
    margin-left: 6px;
    padding: 3px 6px;
    font-size: 0.68rem;
  }
}
/* =========================
   Page transition (motion-only)
   ========================= */

.pt {
  animation: ptFade 220ms ease-out;
  will-change: opacity, transform;
}

@keyframes ptFade {
  from { opacity: 0; transform: translateY(4px); }
  to   { opacity: 1; transform: translateY(0); }
}

@media (prefers-reduced-motion: reduce) {
  .pt { animation: none; }
}
/* =========================
   Scroll reveal (irreversible)
   ========================= */

.reveal {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 360ms ease, transform 360ms ease;
  will-change: opacity, transform;
}

.reveal.is-shown {
  opacity: 1;
  transform: translateY(0);
}

@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1; transform: none; transition: none; }
}
/* =========================
   Mechanical hamburger (slide + lock)
   ========================= */

/* ボタン（回転させず、機械的に“移動して確定”） */
.menu-button {
  position: relative;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.03);
  display: grid;
  place-items: center;
}

/* 3本線 */
.menu-button .bar {
  width: 18px;
  height: 1px;
  background: rgba(255,255,255,0.78);
  position: absolute;
  transition: transform 220ms ease, opacity 220ms ease, width 220ms ease;
}

.menu-button .bar:nth-child(1) { transform: translateY(-6px); }
.menu-button .bar:nth-child(2) { transform: translateY(0); }
.menu-button .bar:nth-child(3) { transform: translateY(6px); }

/* 開いた時：Xに回転ではなく、水平“スライドして噛み合う” */
.menu-button[aria-expanded="true"] .bar:nth-child(1) {
  transform: translateY(0) translateX(1px) rotate(45deg);
  width: 20px;
}
.menu-button[aria-expanded="true"] .bar:nth-child(2) {
  opacity: 0;
}
.menu-button[aria-expanded="true"] .bar:nth-child(3) {
  transform: translateY(0) translateX(1px) rotate(-45deg);
  width: 20px;
}

/* パネル：右上から“スライドして固定” */
.menu-panel {
  position: fixed;
  top: 68px;            /* header 高さに合わせて */
  right: 16px;
  width: min(320px, calc(100vw - 32px));
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(10,10,12,0.92);
  backdrop-filter: blur(10px);

  transform: translateX(12px);
  opacity: 0;
  pointer-events: none;
  transition: transform 220ms ease, opacity 220ms ease;
}

/* “開いている”状態の判定：ボタンの aria-expanded を使うのが理想
   ただCSSだけではボタン→パネルに届かないので、Menu側で
   panel に is-open クラスを付けるか、親に data-open を付けるのが必要。
*/
.menu-panel.is-open {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}

/* パネル内リンク：クリックで“確定”を強める */
.menu-panel a {
  display: block;
  padding: 12px 14px;
  border-radius: 12px;
}
.menu-panel a:hover {
  background: rgba(255,255,255,0.06);
}
.menu-panel a:active {
  background: rgba(255,255,255,0.10);
}
@media (max-width: 480px) {
  .menu-panel {
    top: 56px;
    right: 8px;
    width: calc(100vw - 16px);
  }
}
/* =========================
   X Timeline (HOME)
   ========================= */

.x-timeline {
  max-width: 860px;
  margin: 90px auto 140px;
  padding: 0 32px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0 0 18px;
  color: rgba(255, 255, 255, 0.85);
}

/* 埋め込みiframeの角を揃える */
.x-timeline iframe {
  border-radius: 16px !important;
}

@media (max-width: 768px) {
  .x-timeline {
    margin: 70px auto 110px;
    padding: 0 20px;
  }
}
.x-frame {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
}
.x-frame iframe {
  display: block;
  width: 100%;
  height: 600px;
  border: 0;
}
@media (max-width: 480px) {
  .x-frame iframe {
    height: 400px;
  }
}
/* =========================
   X Timeline (HOME) end
   ========================= */
/* X embed frame (stabilize) */
.x-frame {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.02);
}

/* iframeが生成された後の統一感 */
.x-frame iframe {
  border-radius: 16px !important;
}
.x-frame iframe {
  display: block;
  width: 100%;
  height: 600px;
  border: 0;
}
@media (max-width: 480px) {
  .x-frame iframe {
    height: 400px;
  }
}
/* =========================
/* =========================
   X Latest (single featured post)
   ========================= */

.x-timeline {
  max-width: 860px;
  margin: 90px auto 140px;
  padding: 0 32px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 14px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
}

.x-frame {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.02);
}

/* “最新1件だけ”に見せるために高さを固定＆はみ出しを隠す */
.x-frame--single {
  height: 320px;
}

.x-frame--single iframe {
  width: 100%;
  height: 320px;
  border: 0;
}

/* ほんの少しだけ“強調”の質感（デザインは変えない） */
.x-frame--single {
  box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
}

.x-note {
  margin-top: 12px;
  color: rgba(255, 255, 255, 0.50);
  line-height: 1.8;
}

@media (max-width: 768px) {
  .x-timeline {
    margin: 70px auto 110px;
    padding: 0 20px;
  }
  .x-frame--single,
  .x-frame--single iframe {
    height: 340px; /* モバイルは少し高めの方が読みやすい */
  }
}
/* =========================
   Latest from X (single featured)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.8;
  white-space: pre-wrap;
}

.x-link {
  display: inline-block;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
}
/* =========================
   Latest from X (clean card + read more)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.85;
  white-space: pre-wrap;
  word-break: break-word;
}

.x-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.x-toggle {
  background: transparent;
  color: rgba(255,255,255,0.78);
  border: 1px solid rgba(255,255,255,0.18);
  padding: 8px 12px;
  border-radius: 999px;
  cursor: pointer;
}

.x-toggle:hover {
  border-color: rgba(255,255,255,0.35);
}

.x-link {
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
  .x-actions {
    flex-direction: column;
    align-items: flex-start;
  }
}
/* =========================
   Latest from X (single featured)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.8;
  white-space: pre-wrap;
}

.x-link {
  display: inline-block;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
}
/* =========================
   Latest from X (single featured)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.8;
  white-space: pre-wrap;
}

.x-link {
  display: inline-block;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
}
/* =========================
   Latest from X (clean card + read more)
   ========================= */

.x-latest {
  margin-top: 28px;
}

.x-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.x-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin: 0;
  color: rgba(255, 255, 255, 0.85);
}

.x-more {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.70);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.x-card {
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.02);
  padding: 18px 18px 16px;
}

.x-text {
  margin: 0 0 14px;
  color: rgba(255,255,255,0.82);
  line-height: 1.85;
  white-space: pre-wrap;
  word-break: break-word;
}

.x-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.x-toggle {
  background: transparent;
  color: rgba(255,255,255,0.78);
  border: 1px solid rgba(255,255,255,0.18);
  padding: 8px 12px;
  border-radius: 999px;
  cursor: pointer;
}

.x-toggle:hover {
  border-color: rgba(255,255,255,0.35);
}

.x-link {
  color: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

@media (max-width: 768px) {
  .x-card {
    padding: 16px;
  }
  .x-actions {
    flex-direction: column;
    align-items: flex-start;
  }
}
/* =========================
   ArcheNova X Featured Card
   ========================= */

.x-latest{
  max-width: 1100px;
  margin: 0 auto;
  padding: 26px 24px 10px;
}

.x-head{
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 14px;
}

.x-head-left{
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.x-title{
  font-size: 0.95rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.92);
  margin: 0;
}

.x-tags{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.x-tag{
  font-size: 0.72rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.78);
  backdrop-filter: blur(10px);
}

.x-more{
  color: rgba(255,255,255,0.86);
  border-bottom: 1px solid rgba(255,255,255,0.25);
  padding-bottom: 2px;
  white-space: nowrap;
}

.x-card {
  position: relative;
  border-radius: 28px;
  padding: 28px 32px;

  /* 透明感の核 */
  background: rgba(255, 255, 255, 0.035);
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);

  /* 輪郭 */
  border: 1px solid rgba(255, 255, 255, 0.12);

  /* 浮遊感 */
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.03) inset,
    0 12px 40px rgba(0,0,0,0.55);
}

/* ArcheNova "Irreversibility Frame" look */
.x-card-arche{
  position: relative;
  border: 1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(1200px 400px at 20% 0%, rgba(255,255,255,0.06), transparent 55%),
    radial-gradient(700px 280px at 90% 20%, rgba(255,255,255,0.05), transparent 60%),
    rgba(0,0,0,0.35);
  box-shadow:
    0 20px 60px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.06);
  backdrop-filter: blur(14px);
}

/* Corner "constraint marks" */
.x-card-arche::before,
.x-card-arche::after{
  content:"";
  position:absolute;
  width: 14px;
  height: 14px;
  border: 1px solid rgba(255,255,255,0.22);
  opacity: 0.8;
}

.x-card-arche::before{
  top: 14px;
  left: 14px;
  border-right: none;
  border-bottom: none;
  border-top-left-radius: 6px;
}

.x-card-arche::after{
  bottom: 14px;
  right: 14px;
  border-left: none;
  border-top: none;
  border-bottom-right-radius: 6px;
}

/* Text */
.x-text{
  margin: 0 0 16px;
  color: rgba(255,255,255,0.82);
  line-height: 1.85;
  font-size: 1.02rem;
}

/* Actions */
.x-actions{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}

.x-toggle{
  appearance: none;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.86);
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
}

.x-toggle:hover{
  border-color: rgba(255,255,255,0.28);
  background: rgba(255,255,255,0.06);
}

.x-link{
  color: rgba(255,255,255,0.92);
  border-bottom: 1px solid rgba(255,255,255,0.28);
  padding-bottom: 2px;
}

/* Mobile tuning */
@media (max-width: 768px){
  .x-latest{
    padding: 22px 16px 8px;
  }
  .x-card{
    padding: 18px 16px 16px;
    border-radius: 18px;
  }
  .x-text{
    font-size: 0.98rem;
  }
  .x-title{
    font-size: 0.9rem;
    letter-spacing: 0.18em;
  }
}
/* =========================
   ArcheNova Emphasis Motion
   (Latest Irreversible Move)
   ========================= */

/* カードを“重く”見せる：微妙な浮きと深さ */
.x-card-arche{
  transform: translateY(0);
  transition: transform 520ms ease, box-shadow 520ms ease, border-color 520ms ease;
}

/* hoverで少しだけ“近づく” */
.x-card-arche:hover{
  transform: translate3d(
    0,
    calc(-2px + (-1px * var(--scroll-p))),
    0
  );
}

/* ArcheNovaらしい“境界スキャン”の微発光（常時） */
.x-card-arche{
  overflow: hidden;
}

.x-card-arche::marker{ content: ""; } /* 影響なし、保険 */

/* スキャンライン（薄い光が斜めに流れる） */
.x-card-arche .x-scanline{
  position: absolute;
  inset: -40% -40%;
  background: linear-gradient(
    115deg,
    transparent 35%,
    rgba(255,255,255,0.06) 45%,
    transparent 55%
  );
  transform: translateX(-30%) translateY(-10%);
  animation: archeScan 6.8s linear infinite;
  pointer-events: none;
  mix-blend-mode: screen;
}

/* スキャンが強すぎる場合は opacity を下げる */
@keyframes archeScan{
  0%   { transform: translateX(-35%) translateY(-15%); }
  100% { transform: translateX(35%)  translateY(15%); }
}

/* タグにも“規則性”の呼吸（微妙な明滅） */
.x-tag{
  transition: border-color 520ms ease, background 520ms ease;
}

.x-card-arche:hover .x-tag{
  border-color: rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.05);
}

/* モバイルではhoverが無いので常時効果は弱める */
@media (max-width: 768px){
  .x-card-arche:hover{
    transform: none;
  }
  .x-card-arche .x-scanline{
    opacity: 0.65;
  }
}

/* 省電力・酔い防止：動きが苦手なユーザー向け */
@media (prefers-reduced-motion: reduce){
  .x-card-arche,
  .x-card-arche:hover{
    transition: none;
    transform: none;
  }
  .x-card-arche .x-scanline{
    animation: none;
  }
}
.x-irrev-text{
  margin-top: 18px;
  padding: 14px 18px;
  border-radius: 999px;
  font-size: 0.9rem;
  color: rgba(255,255,255,0.82);
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
}
@media (max-width: 768px){
  .x-irrev-text{
    font-size: 0.85rem;
    padding: 12px 16px;
  }
}
/* =========================
.x-card::before,
.x-card::after {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  border: 1px solid rgba(255,255,255,0.25);
  opacity: 0.6;
}

.x-card::before {
  top: 14px;
  left: 14px;
  border-right: none;
  border-bottom: none;
}

.x-card::after {
  bottom: 14px;
  right: 14px;
  border-left: none;
  border-top: none;
}
======================== */
.x-tag {
  display: inline-block;
  padding: 10px 18px;
  margin-bottom: 10px;

  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 999px;

  font-size: 0.7rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.85);
}
@media (max-width: 480px) {
  .x-tag {
    padding: 8px 14px;
    font-size: 0.65rem;
    letter-spacing: 0.18em;
  }
}
/* =========================
.x-irrev-text {
  margin-top: 20px;
  padding: 16px 22px;
  border-radius: 999px;

  background: rgba(255,255,255,0.045);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.12);

  font-size: 0.9rem;
  color: rgba(255,255,255,0.85);
}
@media (max-width: 768px) {
  .x-irrev-text {
    font-size: 0.85rem;
    padding: 12px 16px;
  }
}
======================== */
/* =========================
   Scroll Reflection Layer
   ========================= */

.x-card-arche {
  position: relative;
  overflow: hidden;
}

/* 反射レイヤー本体（角度付きの淡い光） */
.x-reflection {
  position: absolute;
  inset: -40%;
  pointer-events: none;
  opacity: 0.55;
  mix-blend-mode: screen;

  background: linear-gradient(
    120deg,
    transparent 35%,
    rgba(255, 255, 255, 0.10) 45%,
    rgba(255, 255, 255, 0.04) 52%,
    transparent 62%
  );

  transform: translate3d(0, 0, 0) rotate(0.001deg);
  will-change: transform, opacity;
}

/* ユーザーが動きを減らす設定なら止める */
@media (prefers-reduced-motion: reduce) {
  .x-reflection {
    display: none;
  }
}
:root {
  --scroll-p: 0; /* 0〜1 */
}

/* スクロール率に応じて反射の位置と透明度が微妙に変化 */
.x-reflection {
  transform:
    translate3d(
      calc(-18% + (var(--scroll-p) * 36%)),
      calc(-10% + (var(--scroll-p) * 20%)),
      0
    )
    rotate(-8deg);

  opacity: calc(0.35 + (var(--scroll-p) * 0.25));
}
/* =========================
   Micro Parallax (sub-pixel)
   ========================= */

/* カード全体がほんの少しだけ“浮く” */
.x-card-arche{
  will-change: transform;
}

/* スクロール率に応じて 0.0px → -1.0px だけ上に移動（重さは残す） */
.x-card-arche{
  transform: translate3d(
    0,
    calc(-1px * var(--scroll-p)),
    0
  );
}

/* 反射レイヤーは別軸で動いているので自然に見える */
@media (prefers-reduced-motion: reduce){
  .x-card-arche{
    transform: none !important;
  }
}
/* =========================
/* =========================
   Latest X (Compact Glass)
   ========================= */

.x-latest{
  max-width: 860px;
  margin: 0 auto;
  padding: 32px 32px 70px;
}

@media (max-width: 768px){
  .x-latest{
    padding: 22px 20px 54px;
  }
}

/* 見出し行：コンパクト */
.x-compact-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  margin-bottom: 12px;
}

.x-compact-title{
  margin:0;
  font-size: 0.95rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.88);
}

.x-compact-cta{
  white-space: nowrap;
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size: 0.9rem;
  color: rgba(255,255,255,0.86);
  border-bottom: 1px solid rgba(255,255,255,0.22);
  padding-bottom: 2px;
  opacity: 0.9;
}

/* カード：背景が“見える”ガラス + 読みやすさ */
.x-compact-card{
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  padding: 16px 16px 14px;

  /* 背景が見える程度の透明感 */
  background: rgba(255,255,255,0.028);

  /* ただし文字の可読性を保つために blur をしっかり */
  backdrop-filter: blur(16px) saturate(125%);
  -webkit-backdrop-filter: blur(16px) saturate(125%);

  border: 1px solid rgba(255,255,255,0.10);

  box-shadow:
    0 0 0 1px rgba(255,255,255,0.025) inset,
    0 16px 50px rgba(0,0,0,0.55);
}

/* スクロール微視差（既に --scroll-p が入る前提） */
.x-compact-card{
  transform: translate3d(0, calc(-0.8px * var(--scroll-p)), 0);
  will-change: transform;
}

/* 反射：控えめに */
.x-compact-reflection{
  position:absolute;
  inset:-55%;
  pointer-events:none;
  opacity: 0.35;
  mix-blend-mode: screen;

  background: linear-gradient(
    120deg,
    transparent 38%,
    rgba(255,255,255,0.10) 48%,
    rgba(255,255,255,0.03) 55%,
    transparent 66%
  );

  transform:
    translate3d(
      calc(-16% + (var(--scroll-p) * 32%)),
      calc(-12% + (var(--scroll-p) * 20%)),
      0
    )
    rotate(-10deg);

  will-change: transform, opacity;
}

/* タグ：小さく、硬く、でも読みやすい */
.x-compact-tags{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom: 10px;
}

.x-compact-tag{
  display:inline-flex;
  align-items:center;
  padding: 7px 10px;
  border-radius: 999px;

  background: rgba(0,0,0,0.22); /* ← 背景が見えるが文字は浮く */
  border: 1px solid rgba(255,255,255,0.10);

  font-size: 0.68rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.78);
}

/* 本文：コンパクトで読みやすい（折り返し綺麗） */
.x-compact-text{
  margin: 0;
  padding: 10px 10px 12px;

  border-radius: 12px;
  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.08);

  font-size: 0.95rem;
  line-height: 1.75;
  letter-spacing: 0.02em;
  color: rgba(255,255,255,0.86);

  word-break: normal;
  overflow-wrap: anywhere;
}

/* 下部リンク：2つを横並び → 収まらなければ折り返し */
.x-compact-foot{
  margin-top: 10px;
  display:flex;
  justify-content:space-between;
  gap:14px;
  flex-wrap: wrap;
}

.x-compact-link{
  font-size: 0.9rem;
  color: rgba(255,255,255,0.82);
  border-bottom: 1px solid rgba(255,255,255,0.20);
  padding-bottom: 2px;
  white-space: nowrap;
  opacity: 0.9;
}

/* hover：ほんの少しだけ“近づく” */
@media (hover:hover){
  .x-compact-card:hover{
    border-color: rgba(255,255,255,0.14);
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.03) inset,
      0 22px 70px rgba(0,0,0,0.62);
  }
}

/* 動きを減らす設定 */
@media (prefers-reduced-motion: reduce){
  .x-compact-card{
    transform: none !important;
  }
  .x-compact-reflection{
    display:none;
  }
}
.x-latest {
  position: relative;
  margin-top: 120px;

  background: rgba(255, 255, 255, 0.012); /* ← かなり薄い */
  border: 1px solid rgba(255, 255, 255, 0.06);

  backdrop-filter: blur(10px) saturate(110%);
  -webkit-backdrop-filter: blur(10px) saturate(110%);

  border-radius: 28px;
  padding: 28px 28px 24px;
}
.x-latest {
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.02),
    0 12px 40px rgba(0,0,0,0.25);
}
.x-compact-card {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(14px);
}
/* =========================
   Latest Irreversible Move : Outer Glass Frame
   ========================= */

.x-latest.x-compact{
  position: relative;
  border-radius: 28px;
  padding: 28px 28px 24px;

  /* 背景が見える程度の透明感（外枠） */
  background: rgba(255, 255, 255, 0.012);
  border: 1px solid rgba(255, 255, 255, 0.06);

  backdrop-filter: blur(10px) saturate(110%);
  -webkit-backdrop-filter: blur(10px) saturate(110%);

  /* 影は控えめ（場としての器） */
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.02),
    0 12px 40px rgba(0,0,0,0.25);
}

/* モバイルは余白を少し縮める */
@media (max-width: 768px){
  .x-latest.x-compact{
    padding: 20px 18px 18px;
    border-radius: 24px;
  }
}

/* 内側カードは“外枠より少し濃い” */
.x-compact-card{
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.08);
}
/* === FIX: remove the "band" behind Latest section === */
.x-latest {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* ガラスはカード側だけに残す */
.x-latest .x-card {
  background: rgba(255,255,255,0.035);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 22px;

  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.10),
    0 18px 40px rgba(0,0,0,0.35);
}
.x-latest::before, .x-latest::after { display: none !important; }
/* Fix: remove hard "boxed" edge on glass cards */
.x-card {
  border: none !important;                /* くっきり線を消す */
  box-shadow: none !important;            /* 硬い影を消す */
  background: rgba(15, 15, 18, 0.42);     /* 透明感は残す */
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
}

/* 境界を“線”ではなく“にじみ”で作る（疑似ハイライト） */
.x-card::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;
  background: radial-gradient(120% 120% at 10% 0%,
    rgba(255,255,255,0.08),
    rgba(255,255,255,0.02) 40%,
    rgba(255,255,255,0.00) 70%);
}

/* Safari/モバイルで合成境界が出るなら、モバイルだけblurを切る */
@media (max-width: 768px){
  .x-card{
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background: rgba(15, 15, 18, 0.55);  /* 代わりに少し濃くして読みやすさ維持 */
  }
}
/* =========================
   FIX: 背景画像をページ全体に適用して「境界線」を消す
   ========================= */

/* 1) ページ全体の背景を画像にする（ここが本命） */
html, body {
  background-image: url("/images/IMG_9379.jpeg") !important; /* PC用 */
  background-size: cover !important;
  background-position: center top !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important; /* スクロールでも背景が切れない */
}

/* 2) hero側の背景画像は無効化（重複・切れ目の原因） */
.hero {
  background-image: none !important;
  background-color: transparent !important;
}

/* 3) heroの暗幕は維持（読みやすさ確保） */
.hero::after {
  background: rgba(0,0,0,0.55) !important;
}

/* 4) 次セクション（Latest from X）が単色背景を持っていたら透明にする */
.x-latest, .x-card {
  background: transparent !important;
}

/* 5) スマホだけ背景画像を差し替える */
@media (max-width: 768px) {
  html, body {
    background-image: url("/images/IMG_9845.jpeg") !important; /* スマホ用 */
    background-position: center top !important;
    background-attachment: scroll !important; /* iOSはfixedが不安定な場合がある */
  }
}
/* =========================
   Fixed Background (PC & Mobile)
   ========================= */

html, body {
  margin: 0;
  padding: 0;
  background: #0b0b0c;
}

/* 背景画像を固定レイヤーとして貼る */
.site-bg {
  position: fixed;
  inset: 0;
  z-index: 0;

  background-image: url("/images/IMG_9379.jpeg"); /* PC */
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;

  /* 少し暗幕（読みやすさ） */
  filter: brightness(0.75) contrast(1.05);
  transform: translateZ(0);
  will-change: transform;
}

/* iPhone/Android は別画像にする */
@media (max-width: 768px) {
  .site-bg {
    background-image: url("/images/IMG_9845.jpeg"); /* Mobile */
    background-position: center top;
  }
}

/* すべての中身を背景より前に出す */
.site-content,
.site-header {
  position: relative;
  z-index: 1;
}

/* もし hero が background-image を持っていたら切れ目原因なので無効化 */
.hero {
  background-image: none !important;
  background-color: transparent !important;
}
/* =========================
   Global Readability Layer
   (Unified black haze + vignette)
   ========================= */

/* 背景上に“薄い黒いぼかし”を全体に敷く */
.site-vignette{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  /* 全体を少しだけ黒くして文字を読ませる（境界を作らない） */
  background:
    radial-gradient(1200px 700px at 50% 20%,
      rgba(0,0,0,0.18),
      rgba(0,0,0,0.42) 60%,
      rgba(0,0,0,0.55) 100%),
    linear-gradient(to bottom,
      rgba(0,0,0,0.10),
      rgba(0,0,0,0.35) 40%,
      rgba(0,0,0,0.55));

  /* “ぼかし感”は backdrop-filter ではなく疑似的に出す（段差が出にくい） */
}

/* 中身は必ず前面 */
.site-content,
.site-header{
  position: relative;
  z-index: 1;
}

/* =========================
   Unified Section Surface
   （ページ全体の統一感の核）
   ========================= */

/* すべての主要セクションに同じ“面”を与える */
.hero.hero-scroll,
.x-latest,
.projects-wrap,
.domains-wrap,
.research-wrap,
.manifesto-wrap,
.framework-wrap {
  position: relative;
}

/* “囲い”ではなく、文字の後ろにだけ薄い面を敷く */
.hero-content,
.x-compact-card,
.projects-card,
.domain-card,
.research-card,
.manifesto-card,
.framework-card {
  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 18px;

  /* 透明感は保つが、段差の原因になりやすい blur は控えめ */
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.06),
    0 14px 40px rgba(0,0,0,0.35);
}

/* Latest枠の“囲い消し”で崩れた統一感を戻す：外枠は透明、内側面で統一 */
.x-latest{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Hero内の面の余白（読みやすさ） */
.hero-content{
  padding: 22px 22px;
}

/* Xカードのコンパクト調整 */
.x-compact-card{
  padding: 16px 16px 14px;
}

/* モバイルは面を少し濃く（可読性優先） */
@media (max-width: 768px){
  .hero-content,
  .x-compact-card,
  .projects-card,
  .domain-card,
  .research-card,
  .manifesto-card,
  .framework-card {
    background: rgba(0,0,0,0.28);
    backdrop-filter: blur(6px) saturate(115%);
    -webkit-backdrop-filter: blur(6px) saturate(115%);
  }
}

/* 動きを減らす */
@media (prefers-reduced-motion: reduce){
  .hero-content,
  .x-compact-card,
  .projects-card,
  .domain-card,
  .research-card,
  .manifesto-card,
  .framework-card {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
}
/* --- FIX: make overlay never block clicks --- */
.site-bg,
.site-vignette {
  pointer-events: none !important;
}

/* ヘッダーを最前面に固定 */
.site-header {
  position: fixed;        /* すでにfixedならOK */
  top: 0;
  left: 0;
  right: 0;
  z-index: 50;            /* overlayより上 */
  pointer-events: auto;
}

/* もし .site-content を z-index:1 にしているなら、ヘッダーだけ上に */
.site-content {
  position: relative;
  z-index: 1;
}
.site-header {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 18px 18px;
}
/* === ArcheNova Unified Readability Film === */
.readability-film {
  background: rgba(0, 0, 0, 0.10);   /* ← 濃さを統一（10%） */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 28px;

  /* 境界を感じさせない */
  box-shadow: none;
  border: none;
}
/* =========================================================
   ArcheNova — Unified Readability Film (GLOBAL OVERRIDE)
   目的：全ページで「薄い黒フィルム」を統一し、文字を読みやすくする
   ========================================================= */

:root {
  --film: rgba(0, 0, 0, 0.12);   /* ← 濃さはここだけで管理（おすすめ 0.10〜0.14） */
  --film-strong: rgba(0, 0, 0, 0.16); /* 必要なら少し強め（基本は使わない） */
  --film-blur: 10px;
}

/* 1) 統一フィルム（これだけ使う） */
.readability-film {
  background: var(--film) !important;
  backdrop-filter: blur(var(--film-blur)) !important;
  -webkit-backdrop-filter: blur(var(--film-blur)) !important;
  border: none !important;
  box-shadow: none !important;
}

/* 2) 既存の“濃い黒背景・枠線”を強制的に消す（ページ差をなくす） */
.hero-content,
.about,
.about-inner,
.x-latest,
.x-card,
.section,
.card,
.panel {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* 3) 主要コンテナに「統一フィルム」を適用（全ページで読む） */
.hero-content,
.about-inner,
.x-card,
.section,
.card,
.panel {
  background: var(--film) !important;
  backdrop-filter: blur(var(--film-blur)) !important;
  -webkit-backdrop-filter: blur(var(--film-blur)) !important;
  border-radius: 28px;
}

/* 4) 文字の可読性をページ差なく統一 */
.hero p,
.about p,
.x-text,
.card p,
.section p {
  color: rgba(245, 245, 245, 0.86) !important;
}

/* 5) “境界線がくっきり出る原因”になりやすいinset/outline系を無効化 */
.hero-content,
.about-inner,
.x-card,
.card,
.panel {
  outline: none !important;
}

/* 6) モバイルは少しだけフィルム濃度を上げても読みやすい（背景が暗いなら同値でもOK） */
@media (max-width: 768px) {
  :root {
    --film: rgba(0, 0, 0, 0.14);
    --film-blur: 12px;
  }
}
/* =========================================================
   ArcheNova — Menu (Glass Drawer)
   ========================================================= */

.site-header{
  position: relative;
  z-index: 80;
}

/* ボタン */
.menu-btn{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.20);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;

  display: grid;               /* ←中央に固定 */
  place-items: center;         /* ←中央に固定 */
}

/* ハンバーガー3本線（間隔を詰める） */
.menu-icon{
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.88);
  position: relative;
  border-radius: 2px;
}

.menu-icon::before,
.menu-icon::after{
  content:"";
  position:absolute;
  left:0;
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.88);
  border-radius: 2px;
}

.menu-icon::before{ top: -5px; }  /* ←詰める */
.menu-icon::after { top:  5px; }  /* ←詰める */

/* オーバーレイ（最前面） */
.menu-overlay{
  position: fixed;
  inset: 0;
  z-index: 9998;               /* ←重要：前面に出す */
  background: transparent;
}

/* 背景だけをぼかす層（クリックを邪魔しない） */
.menu-overlay::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.28);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  pointer-events: none;        /* ←重要：クリック阻害しない */
}

/* 上部 */
.menu-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 14px;
}

.menu-brand-title {
  display: block;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
}
.menu-brand-sub {
  display: block;
  margin-top: 6px;
  font-size: 0.9rem;
  color: rgba(245,245,245,0.65);
}

.menu-close {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.18);
  color: rgba(245,245,245,0.85);
  cursor: pointer;
}

/* ナビ */
.menu-nav {
  display: grid;
  gap: 10px;
  padding: 10px 0 8px;
}

.menu-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
  color: rgba(245,245,245,0.88);
  text-decoration: none;
}

.menu-item:hover {
  border-color: rgba(255,255,255,0.16);
  background: rgba(0,0,0,0.18);
}

.menu-item.active {
  border-color: rgba(255,255,255,0.24);
  background: rgba(255,255,255,0.06);
}

.menu-arrow {
  color: rgba(245,245,245,0.55);
}

/* 下部 */
.menu-foot {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

.menu-foot-note {
  display: block;
  font-size: 0.85rem;
  color: rgba(245,245,245,0.60);
  line-height: 1.5;
}

/* モバイル最適化 */
@media (max-width: 768px) {
  .site-header { top: 14px; right: 14px; }
  .menu-panel { top: 14px; right: 14px; }
  .menu-item { padding: 14px 14px; }
}
/* ===== Menu panel (glass) ===== */
.menu-panel{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 9999;               /* ←overlayより上 */
  width: min(420px, calc(100vw - 36px));
  border-radius: 18px;
  overflow: hidden;
  filter: none !important;
}

/* 中の文字を前面に（ボケない） */
.menu-panel * {
  position: relative;
  z-index: 1;
}

/* メニューリンク文字 */
.menu-panel a,
.menu-panel button {
  color: rgba(245, 245, 245, 0.92);
}
/* =========================================================
   ArcheNova Page System (Unified)
   ========================================================= */

.page-standard{
  max-width: 980px;
  margin: 0 auto;
  padding: 120px 32px;
}

.page-head h1{
  font-size: 2.6rem;
  margin: 0 0 12px;
}

.page-lead{
  color: rgba(245,245,245,0.72);
  line-height: 1.9;
  max-width: 820px;
}

.contact-manifest-line{
  margin: 10px 0 16px;
  font-size: 1.05rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.85);
  opacity: 0.88;
}

.glass-block{
  margin-top: 18px;
  padding: 18px 18px;
  border-radius: 22px;
  background: rgba(0,0,0,0.14);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
}

.glass-block h2{
  margin: 0 0 12px;
  font-size: 1.05rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
}

.text{
  margin: 0 0 10px;
  color: rgba(245,245,245,0.76);
  line-height: 1.9;
}

.text.dim{ color: rgba(245,245,245,0.60); }

.quote{
  margin: 10px 0 0;
  color: rgba(245,245,245,0.78);
  letter-spacing: 0.02em;
}

.bullets{
  margin: 0;
  padding-left: 18px;
  color: rgba(245,245,245,0.76);
  line-height: 1.9;
}

.inline-link{
  display: inline-block;
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(245,245,245,0.92);
  text-decoration: none;
}

.inline-link:hover{
  border-color: rgba(255,255,255,0.20);
  background: rgba(255,255,255,0.06);
}

/* ---- Diagram: two columns ---- */
.diagram-two{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 10px;
}

.diagram-card{
  border-radius: 18px;
  background: rgba(0,0,0,0.10);
  border: 1px solid rgba(255,255,255,0.07);
  padding: 14px;
}

.diagram-label{
  font-size: 0.95rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.86);
  margin-bottom: 10px;
}

/* ---- Diagram: flow ---- */
.diagram-flow{
  margin-top: 14px;
  display: grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  gap: 10px;
  align-items: center;
}

.flow-node{
  text-align: center;
  padding: 12px 10px;
  border-radius: 16px;
  background: rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(245,245,245,0.80);
}

.flow-arrow{
  color: rgba(245,245,245,0.50);
  text-align: center;
}

/* ---- Diagram: stack ---- */
.diagram-stack{
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.stack-item{
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(245,245,245,0.78);
  letter-spacing: 0.02em;
}

.stack-item.bad{
  border-color: rgba(255,255,255,0.06);
  color: rgba(245,245,245,0.62);
}

.stack-item.ok{
  border-color: rgba(255,255,255,0.10);
  color: rgba(245,245,245,0.82);
}

.page-foot{
  margin-top: 18px;
}

.back-link{
  color: rgba(245,245,245,0.70);
  text-decoration: none;
  border-bottom: 1px solid rgba(245,245,245,0.25);
}

.back-link:hover{
  border-bottom-color: rgba(245,245,245,0.55);
}

@media (max-width: 768px){
  .page-standard{ padding: 110px 20px; }
  .diagram-two{ grid-template-columns: 1fr; }
  .diagram-flow{ grid-template-columns: 1fr; }
  .flow-arrow{ display: none; }
}
/* =========================================================
   HOME Cards — Vertical Stack (Desktop)
   ========================================================= */

@media (min-width: 1024px) {
  .hero-links {
    display: flex;
    flex-direction: column;     /* 縦方向に並べる */
    align-items: center;        /* 中央揃え */
    gap: 18px;                  /* カード間の余白 */
    margin-top: 40px;
  }

  .hero-links a {
    width: 100%;
    max-width: 720px;           /* 横に広がりすぎない */
    text-align: center;
  }
}

/* =========================
   Menu (ArcheNova) — fixed trigger + clean overlay
   ========================= */

.menu {
  position: relative;
}

/* overlay：blurは “背景だけ” にかける（文字はぼかさない） */
.menu-overlay {
  position: fixed;
  inset: 0;
  z-index: 9990;
}

.menu-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

/* パネル：ガラス＋薄い黒フィルム（読みやすさ優先） */
.menu-panel {
  position: relative;
  z-index: 1;
  width: min(520px, calc(100vw - 28px));
  margin: 74px auto 0;
  padding: 18px 18px 14px;

  border-radius: 22px;
  background: rgba(0, 0, 0, 0.40);
  border: 1px solid rgba(255, 255, 255, 0.10);
  box-shadow: 0 24px 80px rgba(0,0,0,0.55);

  outline: none;
}

/* 上部 */
.menu-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.menu-brand-title {
  font-size: 1.05rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(245,245,245,0.92);
  display: block;
}

.menu-brand-sub {
  font-size: 0.92rem;
  color: rgba(210,210,210,0.75);
  display: block;
  margin-top: 3px;
}

.menu-close {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(245,245,245,0.90);
  cursor: pointer;
}

/* ナビ */
.menu-nav {
  display: grid;
  gap: 10px;
  margin-top: 12px;
}

.menu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;

  padding: 14px 14px;
  border-radius: 16px;

  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);

  color: rgba(245,245,245,0.90);
  text-decoration: none;
  border-bottom: none !important; /* あなたのaの下線ルールを無効化 */

  letter-spacing: 0.03em;
}

.menu-item:hover {
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.12);
}

.menu-item.active {
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.18);
}

.menu-arrow {
  color: rgba(245,245,245,0.55);
}

/* フッター */
.menu-foot {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

.menu-foot-note {
  color: rgba(200,200,200,0.65);
  font-size: 0.9rem;
  line-height: 1.5;
}

/* =========================================================
   ArcheNova — Menu (isolated, conflict-proof)
   ========================================================= */

.site-header{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 10000;
}

/* button */
.an-menu-btn{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.22);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.35);
  cursor: pointer;

  display: grid;
  place-items: center;
}

/* icon */
.an-menu-icon{
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.92);
  position: relative;
  border-radius: 2px;
}
.an-menu-icon::before,
.an-menu-icon::after{
  content:"";
  position:absolute;
  left:0;
  width: 18px;
  height: 2px;
  background: rgba(245,245,245,0.92);
  border-radius: 2px;
}
.an-menu-icon::before{ top:-5px; }
.an-menu-icon::after { top: 5px; }

/* overlay */
.an-menu-overlay{
  position: fixed;
  inset: 0;
  z-index: 9998;
  background: transparent;
}
.an-menu-overlay::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.28);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  pointer-events: none;
}

/* panel */
.an-menu-panel{
  position: fixed;
  top: 18px;
  right: 18px;
  z-index: 9999;

  width: min(420px, calc(100vw - 36px));
  padding: 18px;
  border-radius: 22px;
  overflow: hidden;

  background: rgba(0,0,0,0.34);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 24px 80px rgba(0,0,0,0.55);
  outline: none;
}

/* top */
.an-menu-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  margin-bottom:14px;
}
.an-menu-brand-title{
  display:block;
  font-size:1.05rem;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color:rgba(245,245,245,0.92);
}
.an-menu-brand-sub{
  display:block;
  margin-top:6px;
  font-size:0.9rem;
  color:rgba(245,245,245,0.65);
}
.an-menu-close{
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: rgba(245,245,245,0.90);
  cursor: pointer;
}

/* nav */
.an-menu-nav{
  display:grid;
  gap:10px;
  padding:10px 0 8px;
}
.an-menu-item{
  display:flex;
  justify-content:space-between;
  align-items:center;

  padding:12px 14px;
  border-radius:16px;

  border:1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.05);

  color: rgba(245,245,245,0.90);
  text-decoration:none;
}
.an-menu-item:hover{
  border-color: rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.08);
}
.an-menu-item.active{
  border-color: rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.10);
}
.an-menu-arrow{ color: rgba(245,245,245,0.55); }

/* foot */
.an-menu-foot{
  margin-top:10px;
  padding-top:10px;
  border-top:1px solid rgba(255,255,255,0.08);
}
.an-menu-foot-note{
  display:block;
  font-size:0.85rem;
  color:rgba(245,245,245,0.60);
  line-height:1.5;
}

/* mobile */
@media (max-width: 768px){
  .site-header{ top:14px; right:14px; }
  .an-menu-panel{ top:14px; right:14px; }
}
